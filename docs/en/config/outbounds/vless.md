# VLESS

::: danger
ç›®å‰ VLESS æ²¡æœ‰è‡ªå¸¦åŠ å¯†ï¼Œè¯·ç”¨äºå¯é ä¿¡é“ï¼Œå¦‚ TLSã€‚
ç›®å‰ VLESS ä¸æ”¯æŒåˆ†äº«ã€‚
:::

VLESS æ˜¯ä¸€ä¸ªæ— çŠ¶æ€çš„è½»é‡ä¼ è¾“åè®®ï¼Œå®ƒåˆ†ä¸ºå…¥ç«™å’Œå‡ºç«™ä¸¤éƒ¨åˆ†ï¼Œå¯ä»¥ä½œä¸º Xray å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„æ¡¥æ¢ã€‚

ä¸ [VMess](./vmess.md) ä¸åŒï¼ŒVLESS ä¸ä¾èµ–äºç³»ç»Ÿæ—¶é—´ï¼Œè®¤è¯æ–¹å¼åŒæ ·ä¸º UUIDï¼Œä½†ä¸éœ€è¦ alterIdã€‚

## OutboundConfigurationObject

```json
{
  "vnext": [
    {
      "address": "example.com",
      "port": 443,
      "users": [
        {
          "id": "5783a3e7-e373-51cd-8642-c83782b807c5",
          "encryption": "none",
          "flow": "xtls-rprx-direct",
          "level": 0
        }
      ]
    }
  ]
}
```

> `vnext`: \[ [ServerObject](#serverobject) \]

ä¸€ä¸ªæ•°ç»„, è¡¨ç¤º VLESS æœåŠ¡å™¨åˆ—è¡¨ï¼ŒåŒ…å«ä¸€ç»„æŒ‡å‘æœåŠ¡ç«¯çš„é…ç½®, å…¶ä¸­æ¯ä¸€é¡¹æ˜¯ä¸€ä¸ªæœåŠ¡å™¨é…ç½®ã€‚

### ServerObject

```json
{
  "address": "example.com",
  "port": 443,
  "users": [
    {
      "id": "5783a3e7-e373-51cd-8642-c83782b807c5",
      "encryption": "none",
      "flow": "xtls-rprx-direct",
      "level": 0
    }
  ]
}
```

> `address`: address

æœåŠ¡ç«¯åœ°å€ï¼ŒæŒ‡å‘æœåŠ¡ç«¯ï¼Œæ”¯æŒåŸŸåã€IPv4ã€IPv6ã€‚

> `port`: number

æœåŠ¡ç«¯ç«¯å£ï¼Œé€šå¸¸ä¸æœåŠ¡ç«¯ç›‘å¬çš„ç«¯å£ç›¸åŒã€‚

> `users`: \[ [UserObject](#userobject) \]

æ•°ç»„, ä¸€ç»„æœåŠ¡ç«¯è®¤å¯çš„ç”¨æˆ·åˆ—è¡¨, å…¶ä¸­æ¯ä¸€é¡¹æ˜¯ä¸€ä¸ªç”¨æˆ·é…ç½®

### UserObject

```json
{
  "id": "5783a3e7-e373-51cd-8642-c83782b807c5",
  "encryption": "none",
  "flow": "xtls-rprx-direct",
  "level": 0
}
```

> `id`: string

VLESS çš„ç”¨æˆ· IDï¼Œå¯ä»¥æ˜¯ä»»æ„å°äº 30 å­—èŠ‚çš„å­—ç¬¦ä¸², ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªåˆæ³•çš„ UUID.
è‡ªå®šä¹‰å­—ç¬¦ä¸²å’Œå…¶æ˜ å°„çš„ UUID æ˜¯ç­‰ä»·çš„, è¿™æ„å‘³ç€ä½ å°†å¯ä»¥è¿™æ ·åœ¨é…ç½®æ–‡ä»¶ä¸­å†™ id æ¥æ ‡è¯†åŒä¸€ç”¨æˆ·,å³

- å†™ `"id": "æˆ‘çˆ±ğŸ‰è€å¸ˆ1314"`,
- æˆ–å†™ `"id": "5783a3e7-e373-51cd-8642-c83782b807c5"` (æ­¤ UUID æ˜¯ `æˆ‘çˆ±ğŸ‰è€å¸ˆ1314` çš„ UUID æ˜ å°„)

å…¶æ˜ å°„æ ‡å‡†åœ¨ [VLESS UUID æ˜ å°„æ ‡å‡†ï¼šå°†è‡ªå®šä¹‰å­—ç¬¦ä¸²æ˜ å°„ä¸ºä¸€ä¸ª UUIDv5](https://github.com/XTLS/Xray-core/issues/158)

ä½ å¯ä»¥ä½¿ç”¨å‘½ä»¤ `xray uuid -i "è‡ªå®šä¹‰å­—ç¬¦ä¸²"` ç”Ÿæˆè‡ªå®šä¹‰å­—ç¬¦ä¸²æ‰€æ˜ å°„çš„çš„ UUIDï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å‘½ä»¤ `xray uuid` ç”Ÿæˆéšæœºçš„ UUIDã€‚

> `encryption`: "none"

éœ€è¦å¡« `"none"`ï¼Œä¸èƒ½ç•™ç©ºã€‚

è¯¥è¦æ±‚æ˜¯ä¸ºäº†æé†’ä½¿ç”¨è€…æ²¡æœ‰åŠ å¯†ï¼Œä¹Ÿä¸ºäº†ä»¥åå‡ºåŠ å¯†æ–¹å¼æ—¶ï¼Œé˜²æ­¢ä½¿ç”¨è€…å¡«é”™å±æ€§åæˆ–å¡«é”™ä½ç½®å¯¼è‡´è£¸å¥”ã€‚

è‹¥æœªæ­£ç¡®è®¾ç½® encryption çš„å€¼ï¼Œä½¿ç”¨ Xray æˆ– -test æ—¶ä¼šæ”¶åˆ°é”™è¯¯ä¿¡æ¯ã€‚

> `flow`: string

æµæ§æ¨¡å¼ï¼Œç”¨äºé€‰æ‹© XTLS çš„ç®—æ³•ã€‚

ç›®å‰å‡ºç«™åè®®ä¸­æœ‰ä»¥ä¸‹æµæ§æ¨¡å¼å¯é€‰ï¼š

- `xtls-rprx-origin`ï¼šæœ€åˆçš„æµæ§æ¨¡å¼ã€‚è¯¥æ¨¡å¼çºªå¿µä»·å€¼å¤§äºå®é™…ä½¿ç”¨ä»·å€¼
- `xtls-rprx-origin-udp443`ï¼šåŒ `xtls-rprx-origin`, ä½†æ”¾è¡Œäº†ç›®æ ‡ä¸º 443 ç«¯å£çš„ UDP æµé‡
- `xtls-rprx-direct`ï¼šæ‰€æœ‰å¹³å°çš†å¯ä½¿ç”¨çš„å…¸å‹æµæ§æ¨¡å¼
- `xtls-rprx-direct-udp443`ï¼šåŒ `xtls-rprx-direct`, ä½†æ˜¯æ”¾è¡Œäº†ç›®æ ‡ä¸º 443 ç«¯å£çš„ UDP æµé‡
- `xtls-rprx-splice`ï¼šLinux å¹³å°ä¸‹æœ€å»ºè®®ä½¿ç”¨çš„æµæ§æ¨¡å¼
- `xtls-rprx-splice-udp443`ï¼šåŒ `xtls-rprx-splice`, ä½†æ˜¯æ”¾è¡Œäº†ç›®æ ‡ä¸º 443 ç«¯å£çš„ UDP æµé‡

::: warning æ³¨æ„
å½“ `flow` è¢«æŒ‡å®šæ—¶ï¼Œè¿˜éœ€è¦å°†è¯¥å‡ºç«™åè®®çš„ `streamSettings.security` ä¸€é¡¹æŒ‡å®šä¸º `xtls`ï¼Œ`tlsSettings` æ”¹ä¸º `xtlsSettings`ã€‚è¯¦æƒ…è¯·å‚è€ƒ [streamSettings](../transport.md#streamsettingsobject)ã€‚

æ­¤å¤–ï¼Œç›®å‰ XTLS ä»…æ”¯æŒ TCPã€mKCPã€DomainSocket è¿™ä¸‰ç§ä¼ è¾“æ–¹å¼ã€‚
:::

<!-- prettier-ignore -->
::: tip å…³äº xtls-rprx-*-udp443 æµæ§æ¨¡å¼

å¯ç”¨äº† Xray-core çš„ XTLS æ—¶ï¼Œé€šå¾€ UDP 443 ç«¯å£çš„æµé‡é»˜è®¤ä¼šè¢«æ‹¦æˆªï¼ˆä¸€èˆ¬æƒ…å†µä¸‹ä¸º QUICï¼‰ï¼Œè¿™æ ·åº”ç”¨å°±ä¸ä¼šä½¿ç”¨ QUIC è€Œä¼šä½¿ç”¨ TLSï¼ŒXTLS æ‰ä¼šçœŸæ­£ç”Ÿæ•ˆã€‚å®é™…ä¸Šï¼ŒQUIC æœ¬èº«ä¹Ÿä¸é€‚åˆè¢«ä»£ç†ï¼Œå› ä¸º QUIC è‡ªå¸¦äº† TCP çš„åŠŸèƒ½ï¼Œå®ƒä½œä¸º UDP æµé‡åœ¨é€šè¿‡ VLESS åè®®ä¼ è¾“æ—¶ï¼Œåº•å±‚åè®®ä¸º TCPï¼Œå°±ç›¸å½“äºä¸¤å±‚ TCP äº†ã€‚

è‹¥ä¸éœ€è¦æ‹¦æˆªï¼Œè¯·åœ¨å®¢æˆ·ç«¯å¡«å†™ `xtls-rprx-*-udp443`ï¼ŒæœåŠ¡ç«¯ä¸å˜ã€‚
:::

::: tip å…³äº Splice æ¨¡å¼
Splice æ˜¯ Linux Kernel æä¾›çš„å‡½æ•°ï¼Œç³»ç»Ÿå†…æ ¸ç›´æ¥è½¬å‘ TCPï¼Œä¸å†ç»è¿‡ Xray çš„å†…å­˜ï¼Œå¤§å¤§å‡å°‘äº†æ•°æ®æ‹·è´ã€CPU ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ¬¡æ•°ã€‚
:::

Splice æ¨¡å¼çš„çš„ä½¿ç”¨é™åˆ¶ï¼š

- Linux ç¯å¢ƒ
- å…¥ç«™åè®®ä¸º `Dokodemo door`ã€`Socks`ã€`HTTP` ç­‰çº¯å‡€çš„ TCP è¿æ¥, æˆ–å…¶å®ƒä½¿ç”¨äº† XTLS çš„å…¥ç«™åè®®
- å‡ºç«™åè®®ä¸º VLESS + XTLS æˆ– Trojan + XTLS

æ­¤å¤–ï¼Œä½¿ç”¨ Splice æ—¶ç½‘é€Ÿæ˜¾ç¤ºä¼šæ»åï¼Œè¿™æ˜¯ç‰¹æ€§ï¼Œä¸æ˜¯ bugã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨ mKCP åè®®æ—¶ä¸ä¼šä½¿ç”¨ Spliceï¼ˆæ˜¯çš„ï¼Œè™½ç„¶æ²¡æœ‰æŠ¥é”™ï¼Œä½†å®é™…ä¸Šæ ¹æœ¬æ²¡ç”¨åˆ°ï¼‰ã€‚

> `level`: number

ç”¨æˆ·ç­‰çº§ï¼Œè¿æ¥ä¼šä½¿ç”¨è¿™ä¸ªç”¨æˆ·ç­‰çº§å¯¹åº”çš„ [æœ¬åœ°ç­–ç•¥](../policy.md#levelpolicyobject)ã€‚

level çš„å€¼, å¯¹åº” [policy](../policy.md#policyobject) ä¸­ `level` çš„å€¼ã€‚ å¦‚ä¸æŒ‡å®š, é»˜è®¤ä¸º 0ã€‚
