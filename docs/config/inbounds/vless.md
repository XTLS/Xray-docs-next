# VLESSï¼ˆXTLS Vision Seedï¼‰

VLESS æ˜¯ä¸€ä¸ªæ— çŠ¶æ€çš„è½»é‡ä¼ è¾“åè®®ï¼Œå®ƒåˆ†ä¸ºå…¥ç«™å’Œå‡ºç«™ä¸¤éƒ¨åˆ†ï¼Œå¯ä»¥ä½œä¸º Xray å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„æ¡¥æ¢ã€‚

ä¸ [VMess](./vmess.md) ä¸åŒï¼ŒVLESS ä¸ä¾èµ–äºç³»ç»Ÿæ—¶é—´ï¼Œè®¤è¯æ–¹å¼åŒæ ·ä¸º UUIDã€‚

## InboundConfigurationObject

```json
{
  "clients": [
    {
      "id": "5783a3e7-e373-51cd-8642-c83782b807c5",
      "level": 0,
      "email": "love@xray.com",
      "flow": "xtls-rprx-vision",
      "reverse": {}
    }
  ],
  "decryption": "none",
  "fallbacks": [
    {
      "dest": 80
    }
  ]
}
```

> `clients`: \[ [ClientObject](#clientobject) \]

ä¸€ä¸ªæ•°ç»„ï¼Œä»£è¡¨ä¸€ç»„æœåŠ¡ç«¯è®¤å¯çš„ç”¨æˆ·.

å…¶ä¸­æ¯ä¸€é¡¹æ˜¯ä¸€ä¸ªç”¨æˆ· [ClientObject](#clientobject)ã€‚

> `decryption`: "none"

[VLESS åŠ å¯†](https://github.com/XTLS/Xray-core/pull/5067)è®¾ç½®ã€‚ä¸èƒ½ç•™ç©ºï¼Œç¦ç”¨éœ€æ˜¾å¼è®¾ç½®ä¸º `"none"`.

æ¨èå¤§å¤šæ•°ç”¨æˆ·ä½¿ç”¨ ./xray vlessenc è‡ªåŠ¨ç”Ÿæˆè¯¥å­—æ®µç¡®ä¿ç¼–å†™ä¸ä¼šå‡ºé”™ã€‚ä¸‹æ–¹è¯¦ç»†é…ç½®ä»…æ¨èé«˜çº§ç”¨æˆ·é˜…è¯»ã€‚

å…¶æ ¼å¼ä¸ºä¸€ä¸²å­—æ®µç”± `.` è¿æ¥çš„è¯¦ç»†é…ç½®ã€‚ å¦‚ `mlkem768x25519plus.native.0rtt.100-111-1111.75-0-111.50-0-3333.ptjHQxBQxTJ9MWr2cd5qWIflBSACHOevTauCQwa_71U`. æœ¬æ–‡æ¡£å°†ç”¨ç‚¹åˆ†å¼€çš„å•ç‹¬éƒ¨åˆ†ç§°ä¹‹ä¸ºä¸€ä¸ªå—

- ç¬¬1ä¸ªå—ä¸ºæ¡æ‰‹æ–¹å¼ï¼Œç›®å‰æœ‰ä¸”ä»…æœ‰ `mlkem768x25519plus`. è¦æ±‚æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯ä¸€è‡´
- ç¬¬2ä¸ªå—ä¸ºåŠ å¯†æ–¹å¼ï¼Œå¯é€‰ `native`/`xorpub`/`random`, åˆ†åˆ«å¯¹åº”: åŸå§‹æ ¼å¼æ•°æ®åŒ…/åŸå§‹æ ¼å¼+æ··æ·†å…¬é’¥éƒ¨åˆ†/å…¨éšæœºæ•°ï¼ˆç±»ä¼¼ VMESS/Shadows socksï¼‰ã€‚è¦æ±‚æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯ä¸€è‡´
- ç¬¬3ä¸ªå—ä¸ºä¼šè¯æ¢å¤ç¥¨æ®æœ‰æ•ˆæ—¶é—´ã€‚æ ¼å¼ä¸º `600s` æˆ– `100-500s`. å‰è€…å°†åœ¨è¯¥æ—¶é•¿å’Œè¯¥æ—¶é•¿çš„ä¸€åŠä¹‹é—´éšæœºä¸€ä¸ªæ—¶é—´(å¦‚ `600s`=`300-600s`)ï¼Œåè€…åˆ™æ‰‹åŠ¨æŒ‡å®šéšå³èŒƒå›´

å¾€åä¸º padding, è¿æ¥å»ºç«‹åæœåŠ¡ç«¯å‘é€ä¸€äº›åƒåœ¾æ•°æ®ç”¨ä»¥æ··æ·†é•¿åº¦ç‰¹å¾ï¼Œæ— éœ€ä¸å®¢æˆ·ç«¯ç›¸åŒ(å‡ºç«™çš„ç›¸åŒéƒ¨åˆ†ä¸ºå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯æ–¹å‘å‘é€çš„ padding)ï¼Œå±äºå¯å˜é•¿éƒ¨åˆ†ï¼Œæ ¼å¼ä¸º `padding.delay.padding`+`(.delay.padding)`\*nï¼ˆå¯æ’å…¥å¤šä¸ª padding, è¦æ±‚ä¸¤ä¸ª padding å—ä¹‹é—´å¿…é¡»åŒ…å«ä¸€ä¸ª delay å—ï¼‰ æ¯”å¦‚å¯ä»¥å†™ä¸€ä¸ªè¶…é•¿çš„ `padding.delay.padding.delay.padding.delay.padding.delay.padding.delay.padding`

-`padding` æ ¼å¼ä¸º `probability-min-max` å¦‚ `100-111-1111` å«ä¹‰ä¸º 100% å‘é€ä¸€ä¸ªé•¿åº¦ 111~1111 çš„padding. -`delay` æ ¼å¼åŒæ ·ä¸º `probability-min-max` å¦‚ `75-0-111` å«ä¹‰ä¸º 75% çš„æ¦‚ç‡ç­‰å¾… 0~111 æ¯«ç§’

ç¬¬ä¸€ä¸ª padding å—å­˜åœ¨ç‰¹æ®Šè¦æ±‚ï¼Œè¦æ±‚æ¦‚ç‡ä¸º 100% ä¸”æœ€å°é•¿åº¦å¤§äº 0. è‹¥ä¸å­˜åœ¨ä»»ä½• padding, æ ¸å¿ƒè‡ªåŠ¨ä½¿ç”¨ `100-111-1111.75-0-111.50-0-3333` ä½œä¸º padding è®¾ç½®ã€‚

æœ€åä¸€ä¸ªå—ä¼šè¢«æ ¸å¿ƒè¯†åˆ«ä¸ºè®¤è¯å®¢æˆ·ç«¯ä½¿ç”¨çš„å‚æ•°ï¼Œå¯ç”¨ `./xray x25519`ï¼ˆä½¿ç”¨ PrivateKey éƒ¨åˆ†ï¼‰ æˆ– `./xray mlkem768`ï¼ˆä½¿ç”¨ Seed éƒ¨åˆ†ï¼‰ ç”Ÿæˆï¼Œè¦æ±‚ä¸å®¢æˆ·ç«¯å¯¹åº”ã€‚`mlkem768` å±äºåé‡å­ç®—æ³•ï¼Œå¯ä»¥é˜²æ­¢ï¼ˆæœªæ¥ï¼‰å®¢æˆ·ç«¯å‚æ•°æ³„éœ²åè¢«é‡å­è®¡ç®—æœºç ´è§£å‡ºç§é’¥å¹¶å†’å……æœåŠ¡ç«¯ã€‚è¯¥å‚æ•°ä»…ç”¨äºéªŒè¯ï¼Œæ¡æ‰‹è¿‡ç¨‹æ— è®ºå¦‚ä½•éƒ½æ˜¯åé‡å­å®‰å…¨çš„ï¼Œç°æœ‰çš„åŠ å¯†æ•°æ®æ— æ³•è¢«æœªæ¥å‡ºç°çš„é‡å­è®¡ç®—æœºç ´è§£ã€‚

> `fallbacks`: \[ [FallbackObject](../features/fallback.md) \]

ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«ä¸€ç³»åˆ—å¼ºå¤§çš„å›è½åˆ†æµé…ç½®ï¼ˆå¯é€‰ï¼‰ã€‚
fallbacks çš„å…·ä½“é…ç½®è¯·ç‚¹å‡» [FallbackObject](../features/fallback.md#fallbacks-é…ç½®)

### ClientObject

```json
{
  "id": "5783a3e7-e373-51cd-8642-c83782b807c5",
  "level": 0,
  "email": "love@xray.com",
  "flow": "xtls-rprx-vision",
  "reverse" {}
}
```

> `id`: string

VLESS çš„ç”¨æˆ· IDï¼Œå¯ä»¥æ˜¯ä»»æ„å°äº 30 å­—èŠ‚çš„å­—ç¬¦ä¸², ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªåˆæ³•çš„ UUID.
è‡ªå®šä¹‰å­—ç¬¦ä¸²å’Œå…¶æ˜ å°„çš„ UUID æ˜¯ç­‰ä»·çš„, è¿™æ„å‘³ç€ä½ å°†å¯ä»¥è¿™æ ·åœ¨é…ç½®æ–‡ä»¶ä¸­å†™ id æ¥æ ‡è¯†åŒä¸€ç”¨æˆ·,å³

- å†™ `"id": "æˆ‘çˆ±ğŸ‰è€å¸ˆ1314"`,
- æˆ–å†™ `"id": "5783a3e7-e373-51cd-8642-c83782b807c5"` (æ­¤ UUID æ˜¯ `æˆ‘çˆ±ğŸ‰è€å¸ˆ1314` çš„ UUID æ˜ å°„)

å…¶æ˜ å°„æ ‡å‡†åœ¨ [VLESS UUID æ˜ å°„æ ‡å‡†ï¼šå°†è‡ªå®šä¹‰å­—ç¬¦ä¸²æ˜ å°„ä¸ºä¸€ä¸ª UUIDv5](https://github.com/XTLS/Xray-core/issues/158)

ä½ å¯ä»¥ä½¿ç”¨å‘½ä»¤ `xray uuid -i "è‡ªå®šä¹‰å­—ç¬¦ä¸²"` ç”Ÿæˆè‡ªå®šä¹‰å­—ç¬¦ä¸²æ‰€æ˜ å°„çš„çš„ UUIDã€‚

> ä¹Ÿå¯ä»¥ä½¿ç”¨å‘½ä»¤ `xray uuid` ç”Ÿæˆéšæœºçš„ UUID.

> `level`: number

ç”¨æˆ·ç­‰çº§ï¼Œè¿æ¥ä¼šä½¿ç”¨è¿™ä¸ªç”¨æˆ·ç­‰çº§å¯¹åº”çš„ [æœ¬åœ°ç­–ç•¥](../policy.md#levelpolicyobject)ã€‚

level çš„å€¼, å¯¹åº” [policy](../policy.md#policyobject) ä¸­ `level` çš„å€¼ã€‚ å¦‚ä¸æŒ‡å®š, é»˜è®¤ä¸º 0ã€‚

> `email`: string

ç”¨æˆ·é‚®ç®±ï¼Œç”¨äºåŒºåˆ†ä¸åŒç”¨æˆ·çš„æµé‡ï¼ˆä¼šä½“ç°åœ¨æ—¥å¿—ã€ç»Ÿè®¡ä¸­ï¼‰ã€‚

> `flow`: string

æµæ§æ¨¡å¼ï¼Œç”¨äºé€‰æ‹© XTLS çš„ç®—æ³•ã€‚

ç›®å‰å…¥ç«™åè®®ä¸­æœ‰ä»¥ä¸‹æµæ§æ¨¡å¼å¯é€‰ï¼š

- æ—  `flow` æˆ–è€… ç©ºå­—ç¬¦ï¼š ä½¿ç”¨æ™®é€š TLS ä»£ç†
- `xtls-rprx-vision`ï¼šä½¿ç”¨æ–° XTLS æ¨¡å¼ åŒ…å«å†…å±‚æ¡æ‰‹éšæœºå¡«å……

XTLS ä»…åœ¨ä»¥ä¸‹æ­é…ä¸‹å¯ç”¨

- TCP+TLS/Reality æ­¤æ—¶å°†ç›´æ¥åœ¨åº•å±‚å¯¹æ‹·åŠ å¯†åçš„æ•°æ®ï¼ˆè‹¥ä¼ è¾“çš„æ˜¯ TLS 1.3ï¼‰ã€‚
- VLESS Encryption æ— åº•å±‚ä¼ è¾“é™åˆ¶ï¼Œè‹¥åº•å±‚ä¸æ”¯æŒç›´æ¥å¯¹æ‹·ï¼ˆè§ä¸Šï¼‰åˆ™ä»…ç©¿é€ Encryption.

> `reverse`: struct

VLESS æç®€åå‘ä»£ç†é…ç½®ï¼Œå’Œæ ¸å¿ƒå†…éƒ¨è‡ªå¸¦çš„çš„é€šç”¨åå‘ä»£ç†ä½œç”¨ç›¸åŒä½†æ˜¯é…ç½®æ›´ç®€å•ã€‚

å­˜åœ¨æ­¤é¡¹ä»£è¡¨æ¥è‡ªè¯¥ç”¨æˆ·çš„è¿æ¥å¯ä»¥è¢«ç”¨ä½œå¯ä»¥ç”¨äºå»ºç«‹åå‘ä»£ç†éš§é“ã€‚

å½“å‰å†™æ³•

```json
"reverse": {
  "tag": "r-outbound"
}
```

`tag` ä¸ºè¯¥åå‘ä»£ç†çš„å‡ºç«™ä»£ç† tag. ä½¿ç”¨è·¯ç”±å°†æµé‡è·¯ç”±åˆ°è¯¥å‡ºç«™å°†ä¼šé€è¿‡åå‘ä»£ç†è½¬å‘åˆ°è¿å…¥çš„å®¢æˆ·ç«¯è·¯ç”±ç³»ç»Ÿä¸­(å®¢æˆ·ç«¯é…ç½®è¯¦è§ VLESS å‡ºç«™).

å½“æœ‰å¤šä¸ªä¸åŒçš„è¿æ¥(å¯ä»¥æ¥è‡ªä¸åŒçš„è®¾å¤‡)æ¥å…¥æ—¶æ ¸å¿ƒä¼šå¯¹æ¯ä¸ªè¯·æ±‚éšæœºé€‰æ‹©ä¸€æ¡æ´¾å‘åå‘ä»£ç†æ•°æ®ã€‚

**å®Œæ•´æç®€é…ç½®æ¡ˆä¾‹**

å…¬ç½‘ç«¯é…ç½®ä¸€ä¸ª VLESS å…¥ç«™ï¼Œä¸ UUID åŒçº§é…ç½® `"reverse": { "tag": "xxx" }`ï¼Œæ­¤ tag è§†ä¸ºå‡ºç«™ï¼ŒæŠŠæµé‡è·¯ç”±è‡³æ­¤å³å¯ä½¿ç”¨

**æ‰€ä»¥å…¬ç½‘ç«¯ä¸€å®šè¦æœ‰ä¸€ä¸ªé»˜è®¤å‡ºç«™æ¯”å¦‚ directï¼Œä¸ç„¶ä¼šæœ‰æŸä¸€ä¸ª reverse æˆä¸ºé»˜è®¤å‡ºç«™ã€è°éƒ½èƒ½è®¿é—®**

æ–¹ä¾¿æ¼”ç¤ºè¿™é‡Œç”¨ [VLESS Encryption](https://github.com/XTLS/Xray-core/pull/5067)ï¼Œå®é™…ä¸Šä½ ç›´æ¥è¿‡å¢™çš„è¯ä¼šç”¨ [REALITY](https://github.com/XTLS/Xray-core/pull/4915)ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ç”¨ [tunnel](https://github.com/XTLS/Xray-core/pull/4968) ç›´æ¥æš´éœ²å†…ç½‘ç«¯å£åˆ°å…¬ç½‘ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢ç¤ºä¾‹é…ç½®ä¸­ç›´æ¥è®¿é—®å…¬ç½‘çš„80ç«¯å£å³å¯è®¿é—®åˆ°å†…ç½‘æƒ³è¦çš„åœ°å€ã€‚

```json-comments
{
	"inbounds": [
		{
			"listen": "0.0.0.0",
			"port": 443,
			"protocol": "vless",
			"settings": {
				"decryption": "mlkem768x25519plus.native.600s.aCF82eKiK6g0DIbv0_nsjbHC4RyKCc9NRjl-X9lyi0k",
				"clients": [
					{
						"id": "ac04551d-6ebf-4685-86e2-17c12491f7f4", // for establishing reverse connection
						"flow": "xtls-rprx-vision",
						"reverse": {
							"tag": "r-outbound"
						}
					},
					{
						"id": "e8758aff-d830-4d08-a59e-271df65b995a", // for user
						"flow": "xtls-rprx-vision",
						"email": "user@example.com"
					}
				]
			}
		},
		{
			"listen": "0.0.0.0",
			"port": 80,
			"protocol": "tunnel",
			"tag": "t-inbound"
		}
	],
	"routing": {
		"rules": [
			{
				"user": [
					"user@example.com"
				],
				"outboundTag": "r-outbound"
			},
			{
				"inboundTag": [
					"t-inbound"
				],
				"outboundTag": "r-outbound"
			}
		]
	},
	"outbounds": [
		{
			"protocol": "direct" // essential
		}
	]
}
```

ä»¥ä¸Šé…ç½®ä¸­çš„reverseå’Œroutingéƒ¨åˆ†å·²ç»æ˜¯å®Œæ•´é…ç½®ï¼Œæ— é¡»æ›´æ”¹å³å¯æ­£å¸¸åå‘ä»£ç†ã€‚
