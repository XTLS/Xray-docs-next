# „Äê–ì–ª–∞–≤–∞ 7„Äë–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Xray –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## 7.1 –ü–æ–∑–Ω–∞—Ç—å –º–Ω–æ–≥–æ–µ, —É—Å–≤–æ–∏—Ç—å –Ω—É–∂–Ω–æ–µ; –∫–æ–ø–∏—Ç—å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ, —Ç—Ä–∞—Ç–∏—Ç—å –æ—Å–º–æ—Ç—Ä–∏—Ç–µ–ª—å–Ω–æ

–í–æ –≤—Ä–µ–º—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —ç—Ç–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –æ–¥–∏–Ω –∑–Ω–∞–∫–æ–º—ã–π –≤ —à—É—Ç–∫—É –∑–∞–º–µ—Ç–∏–ª: "–¢–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —É–∂–µ 6 –≥–ª–∞–≤ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è, –∞ –¥–æ Xray –≤—Å—ë –Ω–∏–∫–∞–∫ –Ω–µ –¥–æ–π–¥—ë—Ç. –ö—Ç–æ –Ω–µ –∑–Ω–∞–µ—Ç, –ø–æ–¥—É–º–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ "–°–æ–∑–¥–∞–Ω–∏–µ —Å–∞–π—Ç–∞ —Å –Ω—É–ª—è". (–ò –≤–µ–¥—å –Ω–µ –ø–æ—Å–ø–æ—Ä–∏—à—å! üòÇ)

–ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —Ç–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–µ–≥–æ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è. –í–µ–¥—å —Ç–æ–ª—å–∫–æ –∑–∞–ª–æ–∂–∏–≤ –ø—Ä–æ—á–Ω—ã–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç, –º–æ–∂–Ω–æ –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º –¥–≤–∏–≥–∞—Ç—å—Å—è –≤–ø–µ—Ä—ë–¥ —Å–µ–º–∏–º–∏–ª—å–Ω—ã–º–∏ —à–∞–≥–∞–º–∏. –Ø –≤–∏–¥–µ–ª –≤ —á–∞—Ç–∞—Ö –º–Ω–æ–≥–æ –Ω–æ–≤–∏—á–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –º–æ–≥—É—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–∂–µ `nano`, –Ω–µ –≥–æ–≤–æ—Ä—è —É–∂–µ –æ `WinSCP`. –ò–∑-–∑–∞ —ç—Ç–æ–≥–æ –∏—Ö `config.json`, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –≤—Ä—É—á–Ω—É—é –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ, –ø–µ—Å—Ç—Ä—è—Ç –æ—à–∏–±–∫–∞–º–∏, –∞ –ø–æ–∏—Å–∫ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç—Ç–∏—Ö –æ—à–∏–±–æ–∫ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –º—É—á–µ–Ω–∏–µ.

::: warning
–ü—Ä–æ–π–¥—è –ø–µ—Ä–≤—ã–µ 6 –≥–ª–∞–≤, –º—ã –≤–º–µ—Å—Ç–µ —Å –≤–∞–º–∏ –ø—Ä–µ–æ–¥–æ–ª–µ–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤: –æ—Å–≤–æ–∏–ª–∏ –±–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ Linux, –Ω–∞—É—á–∏–ª–∏—Å—å —É–¥–∞–ª—ë–Ω–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å VPS, —Ä–∞–∑–æ–±—Ä–∞–ª–∏—Å—å —Å —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –¥–æ–º–µ–Ω–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏, –ø–æ–ª—É—á–µ–Ω–∏–µ–º SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤. –û–≥–ª—è–¥—ã–≤–∞—è—Å—å –Ω–∞–∑–∞–¥, —Ä–∞–∑–≤–µ –≤—Å—ë —ç—Ç–æ –∫–∞–∂–µ—Ç—Å—è —Ç–∞–∫–∏–º —É–∂ —Å–ª–æ–∂–Ω—ã–º? –¢–µ–ø–µ—Ä—å, –∏–º–µ—è —Ç–∞–∫–æ–π —Å–æ–ª–∏–¥–Ω—ã–π –±–∞–≥–∞–∂ –∑–Ω–∞–Ω–∏–π, –º—ã –ø–æ–¥–æ–π–¥—ë–º –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Xray —Å —á—É–≤—Å—Ç–≤–æ–º –ª—ë–≥–∫–æ—Å—Ç–∏ –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏, –≤–µ–¥—å –≤—Å—ë —É–∂–µ –≥–æ—Ç–æ–≤–æ!
:::

–î–∞–ª—å–Ω–µ–π—à–∏–µ —à–∞–≥–∏ –ø—Ä–µ–¥–µ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç—ã:

1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ TLS-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ `config.json`)
3. –ó–∞–ø—É—Å–∫
4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —è–¥—Ä–∞, –≤–∫–ª—é—á–µ–Ω–∏–µ `bbr`, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ `http`-–∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ `https` –∏ —Ç. –¥.)

## 7.2 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Xray

Xray –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –ø—Ä–æ–µ–∫—Ç–µ —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º [xray-core](https://github.com/XTLS/Xray-core) (–ª–∏—Ü–µ–Ω–∑–∏—è `MPL 2.0`). –ó–∞–ø—É—â–µ–Ω–Ω—ã–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞,  —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Å–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å Xray; –∑–∞–ø—É—â–µ–Ω–Ω—ã–π –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ, –æ–Ω —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —á–∞—Å—Ç—å—é. –û—Å–Ω–æ–≤–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ **–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**.

–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º —Å–∫—Ä–∏–ø—Ç–æ–º. –û–Ω –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–∫–∏. –í—ã –º–æ–∂–µ—Ç–µ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –Ω–∏–º–∏ –≤ [—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤](https://github.com/XTLS/Xray-install). **–í –¥–∞–Ω–Ω–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –æ—Ç –∏–º–µ–Ω–∏ –Ω–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**.

–ù–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –≤ —Å–∫—Ä–∏–ø—Ç–µ –µ—Å—Ç—å –Ω–µ–±–æ–ª—å—à–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –æ—Ç –∏–º–µ–Ω–∏ –Ω–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –ø–æ—ç—Ç–æ–º—É –º—ã –≤—ã–ø–æ–ª–Ω–∏–º —ç—Ç–∏ —à–∞–≥–∏ –≤—Ä—É—á–Ω—É—é. –ó–∞–æ–¥–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∫–æ–º–∞–Ω–¥—É —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –≤ Linux.

1.  –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã Linux:

    | –ù–æ–º–µ—Ä |   –ö–æ–º–∞–Ω–¥–∞  | –û–ø–∏—Å–∞–Ω–∏–µ        |
    | :----: | :--------: | :-------------- |
    | `cmd-14` |    `rm`     | –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ |

2.  –°–∫–∞—á–∏–≤–∞–µ–º —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–π —Å–∫—Ä–∏–ø—Ç:

    ```shell
    wget https://github.com/XTLS/Xray-install/raw/main/install-release.sh
    ```

3.  –ó–∞–ø—É—Å–∫–∞–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É:

    ```shell
    sudo bash install-release.sh
    ```

4.  –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —É–¥–∞–ª—è–µ–º —Å–∫—Ä–∏–ø—Ç:

    ```shell
    rm ~/install-release.sh
    ```

    ::: warning
    –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∫–æ–º–∞–Ω–¥—ã `rm` –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç—Å—è —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏. –û–¥–Ω–∞–∫–æ **—è –≤—Å—ë –∂–µ —É–∫–∞–∑–∞–ª –ø–æ–ª–Ω—ã–π –ø—É—Ç—å**: `~/install-release.sh`. –≠—Ç–æ –º–æ—è –ø—Ä–∏–≤—ã—á–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–≤—ã—à–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `rm`. –î—É–º–∞—é, –≤—ã —Å–ª—ã—à–∞–ª–∏ –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–æ "–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —É–¥–∞–ª–∏–ª –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ —Å–±–µ–∂–∞–ª". üòâ
    :::

5.  –í–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–∫–∞–∑–∞–Ω –Ω–∞ –≥–∏—Ñ–∫–µ:

    ![–ü—Ä–æ—Ü–µ—Å—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Xray –Ω–∞ —Å–µ—Ä–≤–µ—Ä](./ch07-img01-xray-install.gif)

## 7.3 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ TLS-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –¥–ª—è Xray

–•–æ—Ç—è –º—ã —É–∂–µ –ø–æ–ª—É—á–∏–ª–∏ TLS-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç, —Å–æ–≥–ª–∞—Å–Ω–æ [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ `acme.sh`](https://github.com/acmesh-official/acme.sh/wiki/%E8%AF%B4%E6%98%8E#3-copy%E5%AE%89%E8%A3%85-%E8%AF%81%E4%B9%A6), –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –Ω–∞–ø—Ä—è–º—É—é. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É `--install-cert` –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –¥–ª—è –Ω—É–∂–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –î–∞–≤–∞–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è `xray-core`.

1.  –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ –æ—Ç –∏–º–µ–Ω–∏ –Ω–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–æ–∑–¥–∞–¥–∏–º –ø–∞–ø–∫—É –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –≤ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `vpsadmin`:

    ```shell
    mkdir ~/xray_cert
    ```

2.  –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–º–∞–Ω–¥—É `--install-cert` –∏–∑ `acme.sh` –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è) —Ñ–∞–π–ª–æ–≤ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞:

    ```shell
    acme.sh --install-cert -d sub.yourdomain.com --ecc \
               --fullchain-file ~/xray_cert/xray.crt \
               --key-file ~/xray_cert/xray.key
    ```

3.  –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ñ–∞–π–ª `xray.key` –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è —á—Ç–µ–Ω–∏—è –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º, –ø–æ—ç—Ç–æ–º—É –Ω—É–∂–Ω–æ –≤—ã–¥–∞—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ:

    ```shell
    chmod +r ~/xray_cert/xray.key
    ```

4.  –ü—Ä–æ—Ü–µ—Å—Å –¥–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–π, –ø–æ—ç—Ç–æ–º—É –æ–±–æ–π–¥—ë–º—Å—è –±–µ–∑ –≥–∏—Ñ–∫–∏:

    ![–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –¥–ª—è Xray](./ch07-img02-xray-cert-install.png)

5.  `acme.sh` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –∫–∞–∂–¥—ã–µ 60 –¥–Ω–µ–π –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –µ–≥–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏. –û–¥–Ω–∞–∫–æ, –Ω–∞—Å–∫–æ–ª—å–∫–æ –º–Ω–µ –∏–∑–≤–µ—Å—Ç–Ω–æ, –æ–Ω –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–æ–≤—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è `xray-core` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ü–æ—ç—Ç–æ–º—É –Ω–∞–º –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ cron, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –¥–µ–ª–∞—Ç—å —ç—Ç–æ –∑–∞ –Ω–∞—Å.

    1.  –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã Linux:

        | –ù–æ–º–µ—Ä |   –ö–æ–º–∞–Ω–¥–∞   | –û–ø–∏—Å–∞–Ω–∏–µ                               |
        | :----: | :----------: | :------------------------------------ |
        | `cmd-15` | `crontab -e` | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ crontab —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |

    2.  –°–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª —Å–∫—Ä–∏–ø—Ç–∞ (`xray-cert-renew.sh`):

        ```shell
        nano ~/xray_cert/xray-cert-renew.sh
        ```

    3.  –ö–æ–ø–∏—Ä—É–µ–º –≤ –Ω–µ–≥–æ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥, –∑–∞–º–µ–Ω–∏–≤ `sub.yourdomain.com` –Ω–∞ —Å–≤–æ—ë –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è, –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–∞–π–ª:

        ```bash
        #!/bin/bash

        /home/vpsadmin/.acme.sh/acme.sh --install-cert -d sub.yourdomain.com --ecc --fullchain-file /home/vpsadmin/xray_cert/xray.crt --key-file /home/vpsadmin/xray_cert/xray.key
        echo "Xray Certificates Renewed"

        chmod +r /home/vpsadmin/xray_cert/xray.key
        echo "Read Permission Granted for Private Key"

        sudo systemctl restart xray
        echo "Xray Restarted"
        ```

        ::: warning
        –ö–∞–∫ –∑–∞–º–µ—Ç–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, `acme.sh` –∏–º–µ–µ—Ç –∫–æ–º–∞–Ω–¥—É `reloadcmd`, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—É—é –∫–æ–º–∞–Ω–¥—É –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –¥–ª—è `Xray`. –û–¥–Ω–∞–∫–æ, –ø–æ—Å–∫–æ–ª—å–∫—É `crontab` ‚Äî –æ—á–µ–Ω—å –ø–æ–ª–µ–∑–Ω—ã–π –∏ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤ Linux, –≤ –¥–∞–Ω–Ω–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ `Xray`. (–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –∫–æ–º–∞–Ω–¥–µ `reloadcmd` –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –≤ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ `acme.sh`](https://github.com/acmesh-official/acme.sh)).

        –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –≤ –º–æ–º–µ–Ω—Ç –∑–∞–ø–∏—Å–∏ –≥–∏—Ñ–∫–∏ –≤ —Å–∫—Ä–∏–ø—Ç –Ω–µ –±—ã–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ `Xray`, –ø–æ—Å–∫–æ–ª—å–∫—É –≤ –ø–ª–∞–Ω–∞—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ `Xray` ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ **–≥–æ—Ä—è—á–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤**. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ `Xray` —Å–º–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å –µ–≥–æ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞. –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —è –æ–±–Ω–æ–≤–ª—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é `config.json`, –≤–∫–ª—é—á–∏–≤ —ç—Ç—É –Ω–∞—Å—Ç—Ä–æ–π–∫—É, –∏ —É–¥–∞–ª—é –∫–æ–º–∞–Ω–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∏–∑ —Å–∫—Ä–∏–ø—Ç–∞.
        :::

    4.  –î–µ–ª–∞–µ–º —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:

        ```shell
        chmod +x ~/xray_cert/xray-cert-renew.sh
        ```

    5.  –ó–∞–ø—É—Å–∫–∞–µ–º `crontab -e`, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ `xray-cert-renew.sh` –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `sudo`, —Ç–∞–∫ –∫–∞–∫ –º—ã –¥–æ–±–∞–≤–ª—è–µ–º –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `vpsadmin`. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ `crontab` –≤–∞–º –±—É–¥–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä. –í—ã–±–∏—Ä–∞–µ–º –∑–Ω–∞–∫–æ–º—ã–π –Ω–∞–º `nano`!):

        ```shell
        crontab -e
        ```

    6.  –î–æ–±–∞–≤–ª—è–µ–º —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–æ–∫—É –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –µ–≥–æ:

        ```
        # 1:00am, 1st day each month, run `xray-cert-renew.sh`
        0 1 1 * *   bash /home/vpsadmin/xray_cert/xray-cert-renew.sh
        ```

    7.  –í–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–∫–∞–∑–∞–Ω –Ω–∞ –≥–∏—Ñ–∫–µ:

        ![–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –¥–ª—è Xray –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü](./ch07-img03-crontab-cert-renew.gif)

## 7.4 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Xray

–î–ª—è –Ω–∞—á–∞–ª–∞ –º–æ–∂–µ—Ç–µ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å [–ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ VLESS](https://github.com/XTLS/Xray-examples). –í —ç—Ç–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞: **–æ–¥–∏–Ω –≤—Ö–æ–¥—è—â–∏–π –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä VLESS + –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –ø–æ—Ä—Ç–∞ 80**. –¢–∞–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–±–µ—Å–ø–µ—á–∏—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π —É—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤.

1.  –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤–∞–ª–∏–¥–Ω—ã–π `UUID` –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –µ–≥–æ (–≥—Ä—É–±–æ –≥–æ–≤–æ—Ä—è, `UUID` ‚Äî —ç—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏—Ç—å —Å –æ—Ç–ø–µ—á–∞—Ç–∫–æ–º –ø–∞–ª—å—Ü–∞):

    ```shell
    xray uuid
    ```

2.  –°–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª—ã –∏ –ø–∞–ø–∫–∏ –¥–ª—è –ª–æ–≥–æ–≤:

    1.  –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã Linux:

        | –ù–æ–º–µ—Ä | –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ                |
        | :----: | :-----: | :---------------------- |
        | `cmd-16` | `touch`  | –°–æ–∑–¥–∞–Ω–∏–µ –ø—É—Å—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ |

    2.  –°–æ–∑–¥–∞—ë–º –ø–∞–ø–∫—É –¥–ª—è –ª–æ–≥–æ–≤ –≤ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `vpsadmin`:

        ```shell
        mkdir ~/xray_log
        ```

    3.  –°–æ–∑–¥–∞—ë–º –¥–≤–∞ —Ñ–∞–π–ª–∞ –¥–ª—è –ª–æ–≥–æ–≤ (–ª–æ–≥–∏ –¥–æ—Å—Ç—É–ø–∞ –∏ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫):

        ```shell
        touch ~/xray_log/access.log && touch ~/xray_log/error.log
        ```

        ::: warning
        –≠—Ç–æ –Ω–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –ª–æ–≥–æ–≤ `Xray`. –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å —É –Ω–æ–≤–∏—á–∫–æ–≤. –ö–æ–≥–¥–∞ —Ä–∞–∑–±–µ—Ä—ë—Ç–µ—Å—å, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—É—Ç–∏: `/var/log/xray/access.log` –∏ `/var/log/xray/error.log`.
        :::

    4.  –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Xray –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `nobody`, –ø–æ—ç—Ç–æ–º—É –Ω—É–∂–Ω–æ –¥–∞—Ç—å –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª—ã –ª–æ–≥–æ–≤ (`*.log` ‚Äî —ç—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `log`. –ó–¥–µ—Å—å –ø—Ä–æ—è–≤–ª—è—é—Ç—Å—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏):

        ```shell
        chmod a+w ~/xray_log/*.log
        ```

3.  –°–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `Xray` —Å –ø–æ–º–æ—â—å—é `nano`:

    ```shell
    sudo nano /usr/local/etc/xray/config.json
    ```

4.  –ö–æ–ø–∏—Ä—É–µ–º –≤ –Ω–µ–≥–æ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –∏ –≤—Å—Ç–∞–≤–ª—è–µ–º —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–Ω–µ–µ `UUID` –≤ —Å—Ç—Ä–æ–∫—É 61: `"id": "",` (–¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ `"id": "uuiduuid-uuid-uuid-uuid-uuiduuiduuid"`). –í —ç—Ç–æ–º —Ñ–∞–π–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —è –¥–æ–±–∞–≤–∏–ª —Å–≤–æ–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, —á—Ç–æ–±—ã –≤–∞–º –±—ã–ª–æ –ø—Ä–æ—â–µ –ø–æ–Ω—è—Ç—å, –∑–∞ —á—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å.

    ```json
    // –°–°–´–õ–ö–ò:
    // https://github.com/XTLS/Xray-examples
    // https://xtls.github.io/config/
    // –¢–∏–ø–∏—á–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª, –∫–∞–∫ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞, —Ç–∞–∫ –∏ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞, —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 5 –æ—Å–Ω–æ–≤–Ω—ã—Ö —á–∞—Å—Ç–µ–π. –†–∞–∑–±–µ—Ä—ë–º –∏—Ö –ø–æ –ø–æ–ª–æ—á–∫–∞–º:
    // ‚îå‚îÄ 1_log –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è - —á—Ç–æ –∏ –∫—É–¥–∞ –ø–∏—Å–∞—Ç—å –≤ –ª–æ–≥ (—á—Ç–æ–±—ã –±—ã–ª–æ –ø—Ä–æ—â–µ –∏—Å–∫–∞—Ç—å –æ—à–∏–±–∫–∏)
    // ‚îú‚îÄ 2_dns –ù–∞—Å—Ç—Ä–æ–π–∫–∏ DNS - –∫–∞–∫ –≤—ã–ø–æ–ª–Ω—è—Ç—å DNS-–∑–∞–ø—Ä–æ—Å—ã (–∑–∞—â–∏—Ç–∞ –æ—Ç DNS-—Å–ø—É—Ñ–∏–Ω–≥–∞, –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ª–µ–∂–∫–∏, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ –∫–∏—Ç–∞–π—Å–∫–∏–µ —Å–µ—Ä–≤–µ—Ä—ã –∏ —Ç. –¥.)
    // ‚îú‚îÄ 3_routing –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ - –∫–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫ (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–µ–∫–ª–∞–º—ã, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞–Ω)
    // ‚îú‚îÄ 4_inbounds –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Ö–æ–¥—è—â–∏—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π - –∫–∞–∫–æ–π —Ç—Ä–∞—Ñ–∏–∫ –º–æ–∂–µ—Ç –ø–æ—Å—Ç—É–ø–∞—Ç—å –Ω–∞ Xray
    // ‚îî‚îÄ 5_outbounds –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏—Å—Ö–æ–¥—è—â–∏—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π - –∫—É–¥–∞ –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞—Ñ–∏–∫, –∏—Å—Ö–æ–¥—è—â–∏–π –æ—Ç Xray
    {
      // 1_–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
      "log": {
        "loglevel": "warning", // –£—Ä–æ–≤–µ–Ω—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –ª–æ–≥–æ–≤: "none", "error", "warning", "info", "debug" (–æ—Ç –º–µ–Ω—å—à–µ–≥–æ –∫ –±–æ–ª—å—à–µ–º—É)
        "access": "/home/vpsadmin/xray_log/access.log", // –§–∞–π–ª –¥–ª—è –∑–∞–ø–∏—Å–∏ –ª–æ–≥–æ–≤ –¥–æ—Å—Ç—É–ø–∞
        "error": "/home/vpsadmin/xray_log/error.log" // –§–∞–π–ª –¥–ª—è –∑–∞–ø–∏—Å–∏ –ª–æ–≥–æ–≤ –æ—à–∏–±–æ–∫
      },
      // 2_–ù–∞—Å—Ç—Ä–æ–π–∫–∏ DNS
      "dns": {
        "servers": [
          "https+local://1.1.1.1/dns-query", // –ò—Å–ø–æ–ª—å–∑—É–µ–º DoH-—Å–µ—Ä–≤–µ—Ä 1.1.1.1 –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å. –≠—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å, –Ω–æ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç —Å–ª–µ–∂–∫–∏ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
          "localhost"
        ]
      },
      // 3_–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
      "routing": {
        "domainStrategy": "IPIfNonMatch",
        "rules": [
          // 3.1 –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π: –∞—Ç–∞–∫–∏ –Ω–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å–µ—Ç—å, –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤ –∏ —Ç. –¥.
          {
            "type": "field",
            "ip": [
              "geoip:private" // –£—Å–ª–æ–≤–∏–µ: –∞–¥—Ä–µ—Å–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ "private" –≤ —Ñ–∞–π–ª–µ geoip (–ª–æ–∫–∞–ª—å–Ω—ã–µ –∞–¥—Ä–µ—Å–∞)
            ],
            "outboundTag": "block" // –î–µ–π—Å—Ç–≤–∏–µ: –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ –∏—Å—Ö–æ–¥—è—â–µ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ "block" (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞)
          },
          {
            // 3.2 –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø—Ä—è–º–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∫–∏—Ç–∞–π—Å–∫–∏–º —Å–µ—Ä–≤–µ—Ä–∞–º
            "type": "field",
            "ip": ["geoip:cn"],
            "outboundTag": "block"
          },
          // 3.3 –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ–∫–ª–∞–º—ã
          {
            "type": "field",
            "domain": [
              "geosite:category-ads-all" // –£—Å–ª–æ–≤–∏–µ: –¥–æ–º–µ–Ω—ã –∏–∑ —Å–ø–∏—Å–∫–∞ "category-ads-all" –≤ —Ñ–∞–π–ª–µ geosite (—Ä–µ–∫–ª–∞–º–Ω—ã–µ –¥–æ–º–µ–Ω—ã)
            ],
            "outboundTag": "block" // –î–µ–π—Å—Ç–≤–∏–µ: –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ –∏—Å—Ö–æ–¥—è—â–µ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ "block" (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞)
          }
        ]
      },
      // 4_–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Ö–æ–¥—è—â–∏—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
      // 4.1 –ó–¥–µ—Å—å —É–∫–∞–∑–∞–Ω —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—Ä–æ—Å—Ç–µ–π—à–∏–π –≤—Ö–æ–¥—è—â–∏–π –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä vless+xtls, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ —Å–∞–º—ã–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º Xray. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä—ã, –∏—Å–ø–æ–ª—å–∑—É—è —ç—Ç–æ—Ç —à–∞–±–ª–æ–Ω.
      "inbounds": [
        {
          "port": 443,
          "protocol": "vless",
          "settings": {
            "clients": [
              {
                "id": "", // –£–∫–∞–∂–∏—Ç–µ —Å–≤–æ–π UUID
                "flow": "xtls-rprx-vision",
                "level": 0,
                "email": "vpsadmin@yourdomain.com"
              }
            ],
            "decryption": "none",
            "fallbacks": [
              {
                "dest": 80 // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞ –ø–æ—Ä—Ç 80 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
              }
            ]
          },
          "streamSettings": {
            "network": "tcp",
            "security": "tls",
            "tlsSettings": {
              "alpn": "http/1.1",
              "certificates": [
                {
                  "certificateFile": "/home/vpsadmin/xray_cert/xray.crt",
                  "keyFile": "/home/vpsadmin/xray_cert/xray.key"
                }
              ]
            }
          }
        }
      ],
      // 5_–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏—Å—Ö–æ–¥—è—â–∏—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
      "outbounds": [
        // 5.1 –ü–µ—Ä–≤–æ–µ –∏—Å—Ö–æ–¥—è—â–µ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ - —ç—Ç–æ –ø—Ä–∞–≤–∏–ª–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. freedom - —ç—Ç–æ –ø—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (VPS –∏ —Ç–∞–∫ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–æ –≤–Ω–µ—à–Ω–µ–π —Å–µ—Ç–∏)
        {
          "tag": "direct",
          "protocol": "freedom"
        },
        // 5.2 –ü—Ä–∞–≤–∏–ª–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏. –ü—Ä–æ—Ç–æ–∫–æ–ª blackhole –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ –≤ –Ω–∏–∫—É–¥–∞ (–±–ª–æ–∫–∏—Ä—É–µ—Ç –µ–≥–æ)
        {
          "tag": "block",
          "protocol": "blackhole"
        }
      ]
    }
    ```

5.  –í–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–∫–∞–∑–∞–Ω –Ω–∞ –≥–∏—Ñ–∫–µ:

    ![–°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –ª–æ–≥–æ–≤ –∏ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `config.json`](./ch07-img04-xray-log-and-config.gif)

## 7.5 –ó–∞–ø—É—Å–∫ Xray! (–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞)

–ï—Å–ª–∏ –≤—ã –≤—Å—ë –¥–µ–ª–∞–ª–∏ –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, —Ç–æ –¥–æ–ª–∂–Ω—ã –±—ã–ª–∏ –∏–∑–±–µ–∂–∞—Ç—å –¥–≤—É—Ö —Å–∞–º—ã—Ö —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫: **–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤ —Ñ–∞–π–ª—ã –ª–æ–≥–æ–≤** –∏ **–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ –¥–ª—è —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞**. –¢–∞–∫ —á—Ç–æ –∑–∞–ø—É—Å–∫ `Xray` –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏ –±–µ–∑ —Å—É—á–∫–∞ –∏ –∑–∞–¥–æ—Ä–∏–Ω–∫–∏.

1.  –í–≤–æ–¥–∏–º –∫–æ–º–∞–Ω–¥—É –∏ –Ω–∞—Å–ª–∞–∂–¥–∞–µ–º—Å—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º –º–æ–º–µ–Ω—Ç–æ–º –∑–∞–ø—É—Å–∫–∞ `Xray`!!!

    ```shell
    sudo systemctl start xray
    ```

2.  –û–¥–Ω–∞–∫–æ –ø—Ä–æ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `start` –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å–µ—Ä–≤–∏—Å `Xray` –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:

    ```shell
    sudo systemctl status xray
    ```

    –í–∏–¥–∏—Ç–µ –Ω–∞–¥–ø–∏—Å—å –∑–µ–ª—ë–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ `active (running)`? –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ `Xray` –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç.

3.  –í–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–∫–∞–∑–∞–Ω –Ω–∞ –≥–∏—Ñ–∫–µ:

    ![–ó–∞–ø—É—Å–∫ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞ Xray](./ch07-img05-xray-start-and-status.gif)

## 7.6 –ë–∞–∑–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏ —Å –ø–æ–º–æ—â—å—é `systemd`

–ú—ã —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥ `systemctl`: `start`, `status`, `reload`. –í—Å–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞–º–∏ –≤ Linux —Å –ø–æ–º–æ—â—å—é —Å–∏—Å—Ç–µ–º—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ `systemd`. –î–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –µ—â—ë –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª–µ–∑–Ω—ã—Ö –∫–æ–º–∞–Ω–¥.

1.  –ß—Ç–æ–±—ã –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å `Xray`, –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–º–∞–Ω–¥—É `stop`:

    ```shell
    sudo systemctl stop xray
    ```

2.  –ß—Ç–æ–±—ã –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å `Xray`, –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–º–∞–Ω–¥—É `restart`:

    ```shell
    sudo systemctl restart xray
    ```

3.  –ß—Ç–æ–±—ã –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞ `Xray` –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–º–∞–Ω–¥—É `disable`:

    ```shell
    sudo systemctl disable xray
    ```

4.  –ß—Ç–æ–±—ã —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞ `Xray` –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–º–∞–Ω–¥—É `enable`:

    ```shell
    sudo systemctl enable xray
    ```

## 7.7 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞: –≤–∫–ª—é—á–µ–Ω–∏–µ BBR

1.  –ß—Ç–æ –≥–æ–≤–æ—Ä—è—Ç –æ `BBR`

–£–≤–µ—Ä–µ–Ω, —á—Ç–æ, –∏–∑—É—á–∞—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫, –≤—ã –Ω–µ —Ä–∞–∑ —Å—Ç–∞–ª–∫–∏–≤–∞–ª–∏—Å—å —Å –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–æ–π `bbr`. –í –º–Ω–æ–≥–æ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –±–ª–æ–≥–∞—Ö –µ—ë —Ä–∞—Å—Ö–≤–∞–ª–∏–≤–∞—é—Ç –Ω–∞ –≤—Å–µ –ª–∞–¥—ã, –Ω–∞–¥–µ–ª—è—è —á—É—Ç—å –ª–∏ –Ω–µ –º–∞–≥–∏—á–µ—Å–∫–∏–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏. –°—É—â–µ—Å—Ç–≤—É—é—Ç —Ç–∞–∫–∂–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ `bbrplus`, `bbr2`, `–º–∞–≥–∏—á–µ—Å–∫–∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π bbr` –∏ —Ç. –¥. –°–æ–∑–¥–∞—ë—Ç—Å—è –æ—â—É—â–µ–Ω–∏–µ, —á—Ç–æ —ç—Ç–æ –∫–∞–∫–∞—è-—Ç–æ –≤–æ–ª—à–µ–±–Ω–∞—è –ø–∞–ª–æ—á–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —Ç—ã–∫–≤—É –≤ –∫–∞—Ä–µ—Ç—É, –∞ –º–µ–¥–ª–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç ‚Äî –≤ —Å–≤–µ—Ä—Ö—Å–∫–æ—Ä–æ—Å—Ç–Ω–æ–π.

–¢–∞–∫ —á—Ç–æ –∂–µ —Ç–∞–∫–æ–µ `BBR` –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ? –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª–∏ –æ–Ω —Ç–∞–∫ —Ö–æ—Ä–æ—à? –ò –∫–∞–∫—É—é –≤–µ—Ä—Å–∏—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

2.  `BBR` –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ

**BBR** = **B**ottleneck **B**andwidth and **R**ound-trip propagation time ‚Äî —ç—Ç–æ –∞–ª–≥–æ—Ä–∏—Ç–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞–º–∏ –¥–ª—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ TCP. –ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è, —ç—Ç–æ **—Ä–µ–≥—É–ª–∏—Ä–æ–≤—â–∏–∫ –¥–æ—Ä–æ–∂–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Ç—Ä–∞—Ñ–∏–∫–∞**: –∫–æ–≥–¥–∞ –Ω–∞ –¥–æ—Ä–æ–≥–µ –Ω–µ—Ç –ø—Ä–æ–±–æ–∫, –∫–∞–∂–¥–∞—è –º–∞—à–∏–Ω–∞ –º–æ–∂–µ—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é.

–¢–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –æ–Ω? –ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –≤–∫–ª—é—á–µ–Ω–Ω—ã–º –∏ –≤—ã–∫–ª—é—á–µ–Ω–Ω—ã–º `BBR` –∑–∞–º–µ—Ç–Ω–∞ (—É–ª—É—á—à–∞–µ—Ç—Å—è —Å–∫–æ—Ä–æ—Å—Ç—å, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ —Å–Ω–∏–∂–∞–µ—Ç—Å—è –ø–∏–Ω–≥), –ø–æ—ç—Ç–æ–º—É **–Ω–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–∫–ª—é—á–∏—Ç—å `BBR`**.

–û–¥–Ω–∞–∫–æ —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏ `BBR` –¥–ª—è —è–¥–µ—Ä 4.x –∏ 5.x –∑–∞—á–∞—Å—Ç—É—é –Ω–µ —Å—Ç–æ–ª—å —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–∞ –∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏. –†–µ—à–∞—é—â–∏–º —Ñ–∞–∫—Ç–æ—Ä–æ–º, –≤–ª–∏—è—é—â–∏–º –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ —Å–≤—è–∑–∏, –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –æ—Å—Ç–∞—ë—Ç—Å—è –∫–∞—á–µ—Å—Ç–≤–æ —Å–∞–º–æ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–∫–∞–Ω–∞–ª–∞. –ü–æ—ç—Ç–æ–º—É **–Ω–µ —Å—Ç–æ–∏—Ç –≥–Ω–∞—Ç—å—Å—è –∑–∞ –Ω–æ–≤–µ–π—à–∏–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ `BBR`. –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ—Ä—Å–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å –≤–∞—à–µ–π –≤–µ—Ä—Å–∏–µ–π –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞ Linux**.

3.  –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª–∏ `bbrplus`, `bbr2`, `–º–∞–≥–∏—á–µ—Å–∫–∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π bbr` –∏ –¥—Ä—É–≥–∏–µ –≤–µ—Ä—Å–∏–∏ —Å –∫—Ä—É—Ç—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –ª—É—á—à–µ?

–û–¥–Ω–∏–º —Å–ª–æ–≤–æ–º: **–Ω–µ—Ç! –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö! –í—Å–µ —ç—Ç–∏ –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–∏–¥—É–º–∞–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è –≤–Ω–∏–º–∞–Ω–∏—è!**

–û–±–Ω–æ–≤–ª–µ–Ω–∏—è `BBR` –≤—ã–ø—É—Å–∫–∞—é—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ —è–¥—Ä–∞ Linux (`Kernel`). –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –Ω–æ–≤–æ–µ —è–¥—Ä–æ, —Ç–æ —É –≤–∞—Å —É–∂–µ –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è `BBR`.

–ê –≤—Å–µ —ç—Ç–∏ —Å–∫—Ä–∏–ø—Ç—ã —Å –∫—Ä—É—Ç—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –ø—Ä–æ—Å—Ç–æ —Å–∫–∞—á–∏–≤–∞—é—Ç –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ —è–¥—Ä–∞ (–∏–ª–∏ –¥–∞–∂–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ –≤–µ—Ä—Å–∏–∏) —Å –±–æ–ª–µ–µ –Ω–æ–≤—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ `BBR`.

–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —è–¥—Ä–∞ ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞. **–ù–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ –ø–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–≥—É—Ç –¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏ `BBR`, –Ω–µ —Å—Ç–æ–∏—Ç —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Ä–∏—Å–∫–æ–≤–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é —Å–µ—Ä–≤–µ—Ä–∞.** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é —è–¥—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–∞—à–∏–º –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–æ–º Linux. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.

::: warning
–¢–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º–æ–µ "–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ" –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π `bbr` **–æ—á–µ–Ω—å –Ω–µ–¥–æ–ª–≥–æ–≤–µ—á–Ω–æ**. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–Ω–æ–≥–∏–µ —Å–∫—Ä–∏–ø—Ç—ã `bbrplus` –¥–æ —Å–∏—Ö –ø–æ—Ä —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç —è–¥—Ä–æ –≤–µ—Ä—Å–∏–∏ 4.19, –ø–æ—Å–∫–æ–ª—å–∫—É –Ω–µ –æ–±–Ω–æ–≤–ª—è–ª–∏—Å—å —É–∂–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–µ—Ç. –ê –≤–µ–¥—å –Ω–∞ –¥–≤–æ—Ä–µ —É–∂–µ —ç–ø–æ—Ö–∞ Debian 11 —Å —è–¥—Ä–æ–º 5.10! –¢–æ –µ—Å—Ç—å, –µ—Å–ª–∏ –≤ —è–Ω–≤–∞—Ä–µ 2018 –≥–æ–¥–∞ —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç, –≤–æ–∑–º–æ–∂–Ω–æ, –∏ –¥–∞–≤–∞–ª –∫–∞–∫–æ–µ-—Ç–æ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ, —Ç–æ —É–∂–µ –∫ –æ–∫—Ç—è–±—Ä—é 2018 –≥–æ–¥–∞, –∫–æ–≥–¥–∞ –≤—ã—à–ª–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —è–¥—Ä–∞ 4.19, –æ–Ω –ø–æ—Ç–µ—Ä—è–ª –≤—Å—è–∫–∏–π —Å–º—ã—Å–ª. –ê —Å–µ–π—á–∞—Å –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ –≤–æ–≤—Å–µ –º–æ–∂–Ω–æ –Ω–∞–∑–≤–∞—Ç—å **–¥–∞—É–Ω–≥—Ä–µ–π–¥–æ–º**.
:::

4.  –ö–∞–∫–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—á–µ—Ä–µ–¥—è–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: `fq`, `fq_codel`, `fq_pie`, `cake` –∏–ª–∏ –∫–∞–∫–æ–π-—Ç–æ –¥—Ä—É–≥–æ–π?

–û–¥–Ω–∏–º —Å–ª–æ–≤–æ–º: **–µ—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—Ç–µ, —á—Ç–æ –≤—ã–±—Ä–∞—Ç—å, –æ—Å—Ç–∞–≤—å—Ç–µ `fq`. –≠—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, –∏ —ç—Ç–æ –Ω–µ —É—Ö—É–¥—à–∏—Ç –∫–∞—á–µ—Å—Ç–≤–æ —Å–≤—è–∑–∏**.

5.  –°—Ç–æ–∏—Ç –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å "—É—Å–∫–æ—Ä–∏—Ç–µ–ª–∏" —Ç–∏–ø–∞ **ÈîêÈÄü**, **Finalspeed**, **LotServer**?

–û–¥–Ω–∏–º —Å–ª–æ–≤–æ–º: **–Ω–µ—Ç! –ó–∞–±—É–¥—å—Ç–µ –æ –Ω–∏—Ö, –∫–∞–∫ –æ —Å—Ç—Ä–∞—à–Ω–æ–º —Å–Ω–µ!**

–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞, –∫–æ—Ç–æ—Ä—É—é –æ–Ω–∏ —Ä–µ—à–∞—é—Ç, ‚Äî —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ—Ç–µ—Ä–∏ –ø–∞–∫–µ—Ç–æ–≤. –ï—Å–ª–∏ –ø—Ä–æ–≤–æ–¥–∏—Ç—å –∞–Ω–∞–ª–æ–≥–∏—é, —Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤–∞–º –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≥—Ä—É–∑, –Ω–æ –º–∞—à–∏–Ω–∞, –∫–æ—Ç–æ—Ä–∞—è –µ–≥–æ –≤–µ–∑—ë—Ç, –∏–Ω–æ–≥–¥–∞ –ª–æ–º–∞–µ—Ç—Å—è –ø–æ –¥–æ—Ä–æ–≥–µ (—Ç–µ—Ä—è—é—Ç—Å—è –ø–∞–∫–µ—Ç—ã). –≠—Ç–∏ "—É—Å–∫–æ—Ä–∏—Ç–µ–ª–∏" –ø—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç —Ç—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –≥—Ä—É–∑–∞ –Ω–∞ —Ç—Ä—ë—Ö –º–∞—à–∏–Ω–∞—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –î–∞–∂–µ –µ—Å–ª–∏ –¥–≤–µ –º–∞—à–∏–Ω—ã —Å–ª–æ–º–∞—é—Ç—Å—è, —Ç—Ä–µ—Ç—å—è –≤—Å—ë —Ä–∞–≤–Ω–æ –¥–æ—Å—Ç–∞–≤–∏—Ç –≥—Ä—É–∑. –ö–æ–Ω–µ—á–Ω–æ, –µ—Å–ª–∏ –Ω–∞ –¥–æ—Ä–æ–≥–µ –±—É–¥–µ—Ç –º–Ω–æ–≥–æ –≤–∞—à–∏—Ö –º–∞—à–∏–Ω, —Ç–æ –≤—ã –±—É–¥–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–º–µ—Ö–∏ –¥—Ä—É–≥–∏–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –¥–≤–∏–∂–µ–Ω–∏—è. –ù–æ –∏ –æ–Ω–∏ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–º–µ—Ö–∏ –≤–∞–º. –ê –ø–æ—Å–∫–æ–ª—å–∫—É –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫–∞–Ω–∞–ª–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞, —Ç–æ –≤ –∏—Ç–æ–≥–µ –≤—Å–µ –±—É–¥—É—Ç —Å—Ç–æ—è—Ç—å –≤ –ø—Ä–æ–±–∫–µ.

::: warning
–≠—Ç–∏ "—É—Å–∫–æ—Ä–∏—Ç–µ–ª–∏" –Ω–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—Ç –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∏ –Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç —Å–∫–æ—Ä–æ—Å—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è. –í –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–≤–æ—ë–º —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ **—É–≤–µ–ª–∏—á–∏—Ç–µ–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –ø–∞–∫–µ—Ç–æ–≤**. –î–ª—è –∫–∞–Ω–∞–ª–æ–≤ —Å **–æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–º–∏ –ø–æ—Ç–µ—Ä—è–º–∏ –ø–∞–∫–µ—Ç–æ–≤** –æ–Ω–∏ –º–æ–≥—É—Ç –¥–∞—Ç—å –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç, –Ω–æ **–¥–ª—è —Ö–æ—Ä–æ—à–∏—Ö –∫–∞–Ω–∞–ª–æ–≤ —Å –Ω–∏–∑–∫–∏–º–∏ –ø–æ—Ç–µ—Ä—è–º–∏ –ø–∞–∫–µ—Ç–æ–≤ –æ–Ω–∏ –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã –∏ –¥–∞–∂–µ –≤—Ä–µ–¥–Ω—ã, –ø–æ—Å–∫–æ–ª—å–∫—É —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç —Ä–∞—Å—Ö–æ–¥ —Ç—Ä–∞—Ñ–∏–∫–∞**. –≠—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –Ω–µ–Ω—É–∂–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∏ –Ω–∞ –∫–∞–Ω–∞–ª—ã –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

–ï—Å–ª–∏ —É –≤–∞—Å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–ª–æ—Ö–æ–π –∫–∞–Ω–∞–ª —Å –≤—ã—Å–æ–∫–∏–º–∏ –ø–æ—Ç–µ—Ä—è–º–∏ –ø–∞–∫–µ—Ç–æ–≤, —Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî **—Å–º–µ–Ω–∏—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞**.
:::

6.  –Ø —Ç–∞–∫ –ø–æ–¥—Ä–æ–±–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è –Ω–∞ `BBR`, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤–æ–∫—Ä—É–≥ –Ω–µ–≥–æ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –º–∏—Ñ–æ–≤ –∏ –æ—Ç–∫—Ä–æ–≤–µ–Ω–Ω–æ–π –¥–µ–∑–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –Ω–∞—Ü–µ–ª–µ–Ω–Ω–æ–π –Ω–∞ –Ω–æ–≤–∏—á–∫–æ–≤. –ù–∞–¥–µ—é—Å—å, —Ç–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å —á—ë—Ç–∫–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ —Ç–∞–∫–æ–µ `BBR` –∏ –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç. –ê —Ç–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏–º –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é —è–¥—Ä–∞ Debian –∏ –≤–∫–ª—é—á–∏–º `BBR`! (–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ)

    1.  –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `backports` –≤ Debian 10, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –±–æ–ª–µ–µ –Ω–æ–≤—ã–º –≤–µ—Ä—Å–∏—è–º –ø–∞–∫–µ—Ç–æ–≤:

        ```shell
        sudo nano /etc/apt/sources.list
        ```

        ::: warning
        –í Debian 10 –º–æ–∂–Ω–æ –±–µ–∑ –ø—Ä–æ–±–ª–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∞–π–ª `/etc/apt/sources.list`. –û–¥–Ω–∞–∫–æ, –µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –¥—Ä—É–≥–æ–π –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤ Linux –∏–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∏ —Å–∏—Å—Ç–µ–º—É —Å –Ω—É–ª—è –ø–æ —ç—Ç–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, —Ç–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É `/etc/apt/sources.list.d/` –∏ –¥–æ–±–∞–≤–ª—è—Ç—å —Å–≤–æ–∏ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ –Ω–µ—ë, –Ω–∞–ø—Ä–∏–º–µ—Ä, `/etc/apt/sources.list.d/vpsadmin.list`. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞–º–∏ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç –ø–æ—Ç–µ—Ä—é –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏ —Å–ª—É—á–∞–π–Ω–æ–º –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–Ω–∏–∏ —Ñ–∞–π–ª–∞ `/etc/apt/sources.list`.
        :::

    2.  –î–æ–±–∞–≤–ª—è–µ–º —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–æ–∫—É –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –µ–≥–æ:

        ```
        deb http://archive.debian.org/debian buster-backports main
        ```

    3.  –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤, –∏—â–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é —è–¥—Ä–∞ Debian –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –µ—ë. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ –≤–µ—Ä—Å–∏—é —è–¥—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≤–∞—à–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (–≤ –¥–∞–Ω–Ω–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `amd64`):

        ```shell
        sudo apt update && sudo apt -t buster-backports install linux-image-amd64
        ```

        ::: warning
        –ï—Å–ª–∏ –≤–∞—à VPS –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —ç—Ç–æ, –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å **—Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ —è–¥—Ä–æ –¥–ª—è –æ–±–ª–∞—á–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤** `linux-image-cloud-amd64`. –ï–≥–æ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ ‚Äî —ç—Ç–æ –º–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä –∏ –º–µ–Ω—å—à–µ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤. –û–¥–Ω–∞–∫–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å—Ç–∞–ª–∫–∏–≤–∞–ª–∏—Å—å —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ —ç—Ç–æ–≥–æ —è–¥—Ä–∞ –Ω–∞ –Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å–∏—Å—Ç–µ–º—ã, –≤–ø–ª–æ—Ç—å –¥–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∑–∫–∏ (—è–¥—Ä–æ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–ª–æ—Å—å).

        –ß—Ç–æ–±—ã –Ω–µ –ø–æ–ø–∞—Å—Ç—å –≤ —Ç–∞–∫—É—é —Å–∏—Ç—É–∞—Ü–∏—é, –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π —ç—Ç–æ–≥–æ —è–¥—Ä–∞:

        - —Å–æ–∑–¥–∞–π—Ç–µ —Å–Ω–∞–ø—à–æ—Ç —Å–∏—Å—Ç–µ–º—ã –∏–ª–∏
        - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ `vnc`-–∫–æ–Ω—Å–æ–ª–∏ (–∏ –≤—ã –∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ –µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è)

        :::

    4.  –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `sysctl.conf` –∏ –≤–∫–ª—é—á–∞–µ–º `BBR`:

        ```shell
        sudo nano /etc/sysctl.conf
        ```

        ::: warning
        –í Debian 10 –º–æ–∂–Ω–æ –±–µ–∑ –ø—Ä–æ–±–ª–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∞–π–ª `/etc/sysctl.conf`. –û–¥–Ω–∞–∫–æ, –µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –¥—Ä—É–≥–æ–π –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤ Linux –∏–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∏ —Å–∏—Å—Ç–µ–º—É —Å –Ω—É–ª—è –ø–æ —ç—Ç–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, —Ç–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É `/etc/sysctl.d/` –∏ –¥–æ–±–∞–≤–ª—è—Ç—å —Å–≤–æ–∏ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ –Ω–µ—ë, –Ω–∞–ø—Ä–∏–º–µ—Ä, `/etc/sysctl.d/vpsadmin.conf`. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞–º–∏, –ø–æ—Å–∫–æ–ª—å–∫—É –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∏–∑ –Ω–∏—Ö, –Ω–∞—á–∏–Ω–∞—è —Å –≤–µ—Ä—Å–∏–∏ `systemd` 207, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ —Ñ–∞–π–ª–∞ `/etc/sysctl.conf` –Ω–µ —á–∏—Ç–∞—é—Ç—Å—è. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ç–∞–∫–∂–µ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç –ø–æ—Ç–µ—Ä—é –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏ —Å–ª—É—á–∞–π–Ω–æ–º –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–Ω–∏–∏ —Ñ–∞–π–ª–∞ `/etc/sysctl.conf`.
        :::

    5.  –î–æ–±–∞–≤–ª—è–µ–º —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏ –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞:

        ```
        net.core.default_qdisc=fq
        net.ipv4.tcp_congestion_control=bbr
        ```

    6.  –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º VPS, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Å—Ç—É–ø–∏–ª–∏ –≤ —Å–∏–ª—É:

        ```shell
        sudo reboot
        ```

    7.  –í–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–∫–∞–∑–∞–Ω –Ω–∞ –≥–∏—Ñ–∫–µ:

        ::: tip
        –ù–∞ –º–æ—ë–º VPS –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ —è–¥—Ä–æ –¥–ª—è –æ–±–ª–∞—á–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤, –ø–æ—ç—Ç–æ–º—É –Ω–∞ –≥–∏—Ñ–∫–µ —è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é `linux-image-cloud-amd64`. –ï—Å–ª–∏ –≤—ã –Ω–µ —É–≤–µ—Ä–µ–Ω—ã, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ª–∏ –æ–Ω–æ –Ω–∞ –≤–∞—à–µ–º VPS, —Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –æ–±—ã—á–Ω–æ–µ —è–¥—Ä–æ `linux-image-amd64`, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤ –ø—É–Ω–∫—Ç–µ 3.
        :::

        ![–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —è–¥—Ä–∞ Debian –∏ –≤–∫–ª—é—á–µ–Ω–∏–µ `BBR`](./ch07-img06-bbr-proper.gif)

    8.  –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ `BBR` –≤–∫–ª—é—á–µ–Ω

        –ß—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –º–æ–¥—É–ª—å `BBR` –∑–∞–≥—Ä—É–∂–µ–Ω, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:

        ```shell
        lsmod | grep bbr
        ```

        –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ —ç—Ç–æ–≥–æ:

        ```
        tcp_bbr
        ```

        –ß—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∞–ª–≥–æ—Ä–∏—Ç–º `fq` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:

        ```shell
        lsmod | grep fq
        ```

        –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ —ç—Ç–æ–≥–æ:

        ```
        sch_fq
        ```

## 7.8 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ HTTP –Ω–∞ HTTPS

1.  –†–∞–Ω–µ–µ –º—ã –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 80 –∏ –ø–æ–ª—É—á–∏–ª–∏ TLS-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç.

    –û–¥–Ω–∞–∫–æ, –µ—Å–ª–∏ –≤—ã –ø–æ–ø—ã—Ç–∞–µ—Ç–µ—Å—å –æ—Ç–∫—Ä—ã—Ç—å –Ω–∞—à —Å–∞–π—Ç –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É HTTP, —Ç–æ –∑–∞–º–µ—Ç–∏—Ç–µ, —á—Ç–æ –æ–Ω –Ω–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ HTTPS, –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞—é—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å–∞–π—Ç–æ–≤. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –≤ –Ω–∞—à–µ–π —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ HTTP (–ø–æ—Ä—Ç 80) –∏ HTTPS (–ø–æ—Ä—Ç 443) ‚Äî —ç—Ç–æ –¥–≤–∞ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —Å–∞–π—Ç–∞. –ß—Ç–æ–±—ã —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å, –Ω—É–∂–Ω–æ –≤–Ω–µ—Å—Ç–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è.

2.  –û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx:

    ```shell
    sudo nano /etc/nginx/nginx.conf
    ```

3.  –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Å–µ—Ä–≤–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç 80, –¥–æ–±–∞–≤–ª—è–µ–º —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–æ–∫—É –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–∞–π–ª (—Å—Ç—Ä–æ–∫–∏ `root` –∏ `index` –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å):

    ```
    return 301 https://$http_host$request_uri;
    ```

4.  –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç –∏ –æ—Ç–¥–∞–≤–∞—Ç—å —Ñ–∞–π–ª—ã —Å–∞–π—Ç–∞. –í –¥–∞–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Ä—Ç 8080 (–≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç):

    ```
    server {
        listen 127.0.0.1:8080;
        root /home/vpsadmin/www/webpage;
        index index.html;
        add_header Strict-Transport-Security "max-age=63072000" always;
    }
    ```

5.  –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º Nginx:

    ```shell
    sudo systemctl restart nginx
    ```

6.  –ò–∑–º–µ–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Xray, –∑–∞–º–µ–Ω–∏–≤ –ø–æ—Ä—Ç 80 –Ω–∞ 8080 (–Ω–∞—Ö–æ–¥–∏–º `"dest": 80` –∏ –º–µ–Ω—è–µ–º –Ω–∞ `"dest": 8080`):

    ```shell
    sudo nano /usr/local/etc/xray/config.json
    ```

7.  –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º Xray:

    ```shell
    sudo systemctl restart xray
    ```

8.  –í–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–∫–∞–∑–∞–Ω –Ω–∞ –≥–∏—Ñ–∫–µ:

    ![–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ HTTP –Ω–∞ HTTPS](./ch07-img07-http-to-https.gif)

9.  –¢–µ–ø–µ—Ä—å, –µ—Å–ª–∏ –≤—ã –ø–æ–ø—ã—Ç–∞–µ—Ç–µ—Å—å –æ—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç –ø–æ –∞–¥—Ä–µ—Å—É `http://sub.yourdomain.com`, –æ–Ω –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å—Å—è –Ω–∞ HTTPS:

    ![–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è HTTP –Ω–∞ HTTPS](./ch07-img08-http-to-https-check.png)

## 7.9 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞: –±–æ–ª–µ–µ –≥–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω—ã –±–æ–ª–µ–µ –≥–∏–±–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Å—Ç–∞—Ç—å–µ [¬´–†–∞–∑–±–æ—Ä —Ñ—É–Ω–∫—Ü–∏–∏ Fallback¬ª](../level-1/fallbacks-lv1/).

## 7.10 –í–∞—à–∏ —É—Å–ø–µ—Ö–∏

–ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ —É –≤–∞—Å –µ—Å—Ç—å —Ä–∞–±–æ—Ç–∞—é—â–∏–π —Å–µ—Ä–≤–µ—Ä —Å –æ–±—Ö–æ–¥–æ–º –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –∏ —Å–∞–π—Ç-–ø—Ä–∏–º–∞–Ω–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –∑–∞—â–∏—Ç–∏—Ç –≤–∞—Å –æ—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è. –¢–µ–ø–µ—Ä—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –≤–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ ‚Äî –∏ –º–æ–∂–Ω–æ –Ω–∞—Å–ª–∞–∂–¥–∞—Ç—å—Å—è —Å–≤–æ–±–æ–¥–Ω—ã–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º!

> ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ‚¨ú 87.5%

## 7.11 –í–∞–∂–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1.  –í –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –±—ã–ª —É–∫–∞–∑–∞–Ω –Ω–µ–≤–µ—Ä–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `Xray` (`config.json`). –ï—Å–ª–∏ –≤—ã –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ `Xray` –ø–æ —Å—Ç–∞—Ä–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, —Ç–æ –æ–Ω –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è. –ü—Ä–∏–Ω–æ—Å–∏–º –∏–∑–≤–∏–Ω–µ–Ω–∏—è –∑–∞ –Ω–µ—É–¥–æ–±—Å—Ç–≤–∞!

    - –í–µ—Ä–Ω—ã–π –ø—É—Ç—å: `/usr/local/etc/xray/config.json`
    - –ù–µ–≤–µ—Ä–Ω—ã–π –ø—É—Ç—å: `/usr/local/etc/config.json`

    –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ä–∞–∑–¥–µ–ª—ã:

    - 7.4 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Xray - 3. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `Xray` —Å –ø–æ–º–æ—â—å—é `nano`
    - 7.8 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ HTTP –Ω–∞ HTTPS - 6. –ò–∑–º–µ–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Xray

2.  –í –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –±—ã–ª–∞ –æ—à–∏–±–∫–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Nginx (–Ω–µ–≤–µ—Ä–Ω—ã–π –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å —Ñ–∞–π–ª–∞–º–∏ —Å–∞–π—Ç–∞). –ï—Å–ª–∏ –≤—ã –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ Nginx –ø–æ —Å—Ç–∞—Ä–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, —Ç–æ —Å–∞–π—Ç –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å. –ü—Ä–∏–Ω–æ—Å–∏–º –∏–∑–≤–∏–Ω–µ–Ω–∏—è –∑–∞ –Ω–µ—É–¥–æ–±—Å—Ç–≤–∞!

    - –í–µ—Ä–Ω—ã–π –ø—É—Ç—å: `root /home/vpsadmin/www/webpage;`
    - –ù–µ–≤–µ—Ä–Ω—ã–π –ø—É—Ç—å: `root /var/www/website/html`

    –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ä–∞–∑–¥–µ–ª—ã:

    - 7.8 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ HTTP –Ω–∞ HTTPS - 4. –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç –∏ –æ—Ç–¥–∞–≤–∞—Ç—å —Ñ–∞–π–ª—ã —Å–∞–π—Ç–∞.