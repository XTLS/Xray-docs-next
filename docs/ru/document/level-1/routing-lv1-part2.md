# –ö—Ä–∞—Ç–∫–∏–π –æ–±–∑–æ—Ä —Ñ—É–Ω–∫—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ (routing) (—á–∞—Å—Ç—å 2)

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –∏–∑—É—á–µ–Ω–∏—è **—Ñ—É–Ω–∫—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏** –≤ `Xray`!

–í [—á–∞—Å—Ç–∏ 1](./routing-lv1-part1.md) –º—ã —Ä–∞–∑–æ–±—Ä–∞–ª–∏—Å—å —Å –ª–æ–≥–∏–∫–æ–π —Ä–∞–±–æ—Ç—ã **—Ñ—É–Ω–∫—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏** –∏ –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞ –ø–æ –¥–æ–º–µ–Ω—É –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ñ–∞–π–ª–∞ `geosite.dat`.

–ö–∞–∫ —É–∂–µ –±—ã–ª–æ —Å–∫–∞–∑–∞–Ω–æ, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –¥–æ–º–µ–Ω—É ‚Äî —ç—Ç–æ –ª–∏—à—å –≤–µ—Ä—Ö—É—à–∫–∞ –∞–π—Å–±–µ—Ä–≥–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π **—Ñ—É–Ω–∫—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏**. –î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ –µ—â–µ, –∫—Ä–æ–º–µ –¥–æ–º–µ–Ω–∞, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫—Ä–∏—Ç–µ—Ä–∏—è –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞!

## 5. –ü–æ–∫–æ—Ä–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤—ã—Å–æ—Ç - –†–∞–∑–ª–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤

> `[–¥–æ–º–µ–Ω], [IP], [–ø—Ä–æ—Ç–æ–∫–æ–ª], etc.`

–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –¥–æ–º–µ–Ω—É —É–∂–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –≤ –æ–±—â–∏—Ö —á–µ—Ä—Ç–∞—Ö —Ä–∞–∑–¥–µ–ª–∏—Ç—å —Å–µ—Ç–µ–≤–æ–π —Ç—Ä–∞—Ñ–∏–∫. –ü–æ—á–µ–º—É **–≤ –æ–±—â–∏—Ö —á–µ—Ä—Ç–∞—Ö**?

–ü–æ—Ç–æ–º—É —á—Ç–æ, —Ö–æ—Ç—è **"—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–∏—Ä–∞ –Ω–∞ —Ç—Ä–∏ —á–∞—Å—Ç–∏"** ‚Äî —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è, –µ–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ —Å –ø–æ–º–æ—â—å—é **–¥–æ–º–µ–Ω–æ–≤** –∏–º–µ–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä:

1. –ü–æ—Å–ª–µ –ø—Ä–æ—á—Ç–µ–Ω–∏—è –Ω–∞—à–µ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ —è –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª –Ω–æ–≤—ã–π –¥–æ–º–µ–Ω `proxy.yourdomain.com` –¥–ª—è —Å–≤–æ–µ–≥–æ VPS –∏ —Ö–æ—á—É, —á—Ç–æ–±—ã —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ –Ω–µ–≥–æ –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–ª—Å—è. –ï—Å—Ç—å –ª–∏ –æ–Ω –≤ `geosite.dat`?
2. –£ –º–µ–Ω—è –µ—Å—Ç—å –µ—â–µ –æ–¥–∏–Ω –¥–æ–º–µ–Ω `direct.yourdomain.com`, –∏ —è —Ö–æ—á—É, —á—Ç–æ–±—ã —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ –Ω–µ–≥–æ –≤—Å–µ–≥–¥–∞ —à–µ–ª –Ω–∞–ø—Ä—è–º—É—é. –ï—Å—Ç—å –ª–∏ –æ–Ω –≤ `geosite.dat`?
3. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ `127.0.0.1` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `docker`)?
4. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –¥–ª—è —Ç—Ä–∞—Ñ–∏–∫–∞ –≤ –º–æ–µ–π –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ `192.168.*.*` (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–æ—É—Ç–µ—Ä, NAS)?
5. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –¥–ª—è –º–æ–∏—Ö DNS-–∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º DNS-—Å–µ—Ä–≤–µ—Ä–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, `223.5.5.5`)?
6. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–æ–∫—Å–∏ –¥–ª—è –º–æ–∏—Ö DNS-–∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –≤–Ω–µ—à–Ω–∏–º DNS-—Å–µ—Ä–≤–µ—Ä–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, `1.1.1.1`)?
7. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –¥–ª—è –¥—Ä—É–≥–∏—Ö –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–∞–π—Ç–æ–≤, —É –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –¥–æ–º–µ–Ω–Ω–æ–≥–æ –∏–º–µ–Ω–∏, –∞ —Ç–æ–ª—å–∫–æ IP-–∞–¥—Ä–µ—Å, –∫–∞–∫ —É –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö DNS-—Å–µ—Ä–≤–µ—Ä–æ–≤?
8. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–æ–∫—Å–∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö –≤–Ω–µ—à–Ω–∏—Ö —Å–∞–π—Ç–æ–≤, —É –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –¥–æ–º–µ–Ω–Ω–æ–≥–æ –∏–º–µ–Ω–∏, –∞ —Ç–æ–ª—å–∫–æ IP-–∞–¥—Ä–µ—Å, –∫–∞–∫ —É –≤–Ω–µ—à–Ω–∏—Ö DNS-—Å–µ—Ä–≤–µ—Ä–æ–≤?
9. –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è —Ç–æ—Ä—Ä–µ–Ω—Ç-—Ç—Ä–∞—Ñ–∏–∫–∞, –∫–æ—Ç–æ—Ä—ã–π, —Ö–æ—Ç—è –∏ –ø–æ—Å—Ç—É–ø–∞–µ—Ç –∏–∑–≤–Ω–µ, –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ VPS –ø—Ä–∏ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–∏?
10. ......

–Ø –≥–æ–≤–æ—Ä—é, —á—Ç–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –¥–æ–º–µ–Ω—É –∏–º–µ–µ—Ç –º–Ω–æ–≥–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ñ–∞–π–ª `geosite.dat`  —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–æ–º–µ–Ω–æ–≤. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –ø–æ–ª–∞–≥–∞—è—Å—å —Ç–æ–ª—å–∫–æ –Ω–∞ –Ω–µ–≥–æ, –º—ã:

- –Ω–µ —Å–º–æ–∂–µ–º —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –¥–æ–º–µ–Ω—ã, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ —Ñ–∞–π–ª–µ;
- –Ω–µ —Å–º–æ–∂–µ–º —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ IP-–∞–¥—Ä–µ—Å–æ–≤;
- –Ω–µ —Å–º–æ–∂–µ–º —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤.

::: warning 
–î–∞–≤–∞–π—Ç–µ –≤—Å–ø–æ–º–Ω–∏–º, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ —ç—Ç–∏ —É—Å–ª–æ–≤–∏—è –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è? –í–µ—Ä–Ω–æ, —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–∫—Ä—ã—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏: **—Ç—Ä–∞—Ñ–∏–∫ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –ø–µ—Ä–≤—ã–π –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫**.  –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ:

- –µ—Å–ª–∏ –≤–∞—à–∏–º –ø–µ—Ä–≤—ã–º –∏—Å—Ö–æ–¥—è—â–∏–º —Ç—Ä–∞—Ñ–∏–∫–æ–º —è–≤–ª—è–µ—Ç—Å—è `[direct-out]`: **–≤—Å–µ, —á—Ç–æ –¥–æ–ª–∂–Ω–æ –∏–¥—Ç–∏ –Ω–∞–ø—Ä—è–º—É—é, –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –∞ –≤—Å–µ, —á—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è, –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ**;
- –µ—Å–ª–∏ –≤–∞—à–∏–º –ø–µ—Ä–≤—ã–º –∏—Å—Ö–æ–¥—è—â–∏–º —Ç—Ä–∞—Ñ–∏–∫–æ–º —è–≤–ª—è–µ—Ç—Å—è `[proxy-out-vless]`: **–≤—Å–µ, —á—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è, –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –∞ –≤—Å–µ, —á—Ç–æ –¥–æ–ª–∂–Ω–æ –∏–¥—Ç–∏ –Ω–∞–ø—Ä—è–º—É—é, –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ**.
:::

–ü–æ—ç—Ç–æ–º—É –Ω–∞–º –Ω—É–∂–µ–Ω —Å–ø–æ—Å–æ–±, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª–∏—Ç –Ω–∞–º –ø–æ–ª—É—á–∏—Ç—å –∏ —Ç–æ, –∏ –¥—Ä—É–≥–æ–µ. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Ç–∞–∫–æ–π —Å–ø–æ—Å–æ–±? **–ö–æ–Ω–µ—á–Ω–æ, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!** –ù–∞–º –ø—Ä–æ—Å—Ç–æ –Ω—É–∂–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ **–∫—Ä–∏—Ç–µ—Ä–∏–∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è** –ø–æ–º–∏–º–æ **–¥–æ–º–µ–Ω–∞**.

### 5.1 –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É –¥–æ–º–µ–Ω—É: `[domain], [full]`  –∏ —Ç. –¥.

1. –î–ª—è —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–¥–æ–º–µ–Ω–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä `a-name.yourdomain.com`,  –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `full: "a-name.yourdomain.com"`.
2. **–ü—Ä–æ–±–ª–µ–º—ã 1** –∏ **2**, –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –≤—ã—à–µ, –º–æ–∂–Ω–æ —Ä–µ—à–∏—Ç—å, —É–∫–∞–∑–∞–≤ –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫ `[proxy-out-vless]`  –¥–ª—è `proxy.yourdomain.com`  –∏ –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫ `[direct-out]`  –¥–ª—è `direct.yourdomain.com`.
3. –î–ª—è —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ–¥–¥–æ–º–µ–Ω–æ–≤ `yourdomain.com`  –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `domain: "yourdomain.com"`.
4. –≠—Ç–∏ –¥–≤–∞ –ø—Ä–∞–≤–∏–ª–∞ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏, —á—Ç–æ–±—ã –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –æ–¥–Ω–∏—Ö –ø–æ–¥–¥–æ–º–µ–Ω–æ–≤ –∏ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥—Ä—É–≥–∏—Ö.
5. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, `[domain]`  –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π. –ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ –º–æ–¥—É–ª—é –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏](../../../config/base/routing/).

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```json
{
  "routing": {
    "domainStrategy": "AsIs",
    "rules": [
      // –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ø–æ–¥–¥–æ–º–µ–Ω–∞
      {
        "type": "field",
        "domain": ["full:direct.yourdomain.com"],
        "outboundTag": "direct-out"
      },
      // –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ø–æ–¥–¥–æ–º–µ–Ω–∞
      {
        "type": "field",
        "domain": ["full:proxy.yourdomain.com"],
        "outboundTag": "proxy-out-vless"
      },
      // –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö –ø–æ–¥–¥–æ–º–µ–Ω–æ–≤
      {
        "type": "field",
        "domain": ["yourdomain.com"],
        "outboundTag": "proxy-out-vless"
      }
    ]
  }
}
```

### 5.2 –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ IP-–∞–¥—Ä–µ—Å–∞–º –∏–∑ —Ñ–∞–π–ª–∞: `geoip.dat`

–ü–æ–¥–æ–±–Ω–æ —Ñ–∞–π–ª—É –ø—Ä–∞–≤–∏–ª `geosite.dat`, —É –Ω–∞—Å –µ—Å—Ç—å —Ñ–∞–π–ª –ø—Ä–∞–≤–∏–ª `geoip.dat`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **–≥–æ—Ç–æ–≤—ã–π –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π IP-–∞–¥—Ä–µ—Å–æ–≤**, —á—Ç–æ–±—ã —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç—å –í–∞—à–∏ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏. 


1. –ß—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å **–ø—Ä–æ–±–ª–µ–º—ã 3** –∏ **4**, –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –≤—ã—à–µ, –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—é `geoip:private`  –∏ —É–∫–∞–∑—ã–≤–∞–µ–º –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫ `[direct-out]`.
2. –ß—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å **–ø—Ä–æ–±–ª–µ–º—É 7**, –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—é `geoip:cn`  –∏ —É–∫–∞–∑—ã–≤–∞–µ–º –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫ `[direct-out]`.
3. –ß—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å **–ø—Ä–æ–±–ª–µ–º—É 8**, –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–∫—Ä—ã—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏, –ø–æ—Å–∫–æ–ª—å–∫—É –≤ `geoip`  –Ω–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "–Ω–µ –∫–∏—Ç–∞–π—Å–∫–∏–µ IP-–∞–¥—Ä–µ—Å–∞" (–ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ —Ä–∞–≤–Ω–æ—Å–∏–ª—å–Ω–æ —Å–±–æ—Ä—É –≤—Å–µ—Ö IP-–∞–¥—Ä–µ—Å–æ–≤ –≤ –º–∏—Ä–µ).  –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –º—ã —Ä–∞–∑–º–µ—â–∞–µ–º `[proxy-out-vless]`  –Ω–∞ –ø–µ—Ä–≤–æ–º –º–µ—Å—Ç–µ –≤ —Å–ø–∏—Å–∫–µ –∏—Å—Ö–æ–¥—è—â–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞.

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```json
{
  "routing": {
    "domainStrategy": "AsIs",
    "rules": [
      // –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö IP-–∞–¥—Ä–µ—Å–æ–≤
      {
        "type": "field",
        "ip": ["geoip:private"],
        "outboundTag": "direct-out"
      },
      // –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –∫–∏—Ç–∞–π—Å–∫–∏—Ö IP-–∞–¥—Ä–µ—Å–æ–≤
      {
        "type": "field",
        "ip": ["geoip:cn"],
        "outboundTag": "direct-out"
      }
    ]
  }
}
```

### 5.3 –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É IP-–∞–¥—Ä–µ—Å—É

1. –ß—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å **–ø—Ä–æ–±–ª–µ–º—É 5**, –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `ip: "223.5.5.5"`  –∏ —É–∫–∞–∑—ã–≤–∞–µ–º –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫ `[direct-out]`.
2. –ß—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å **–ø—Ä–æ–±–ª–µ–º—É 6**, –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `ip: "1.1.1.1"`  –∏ —É–∫–∞–∑—ã–≤–∞–µ–º –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫ `[proxy-out-vless]`.

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```json
{
  "routing": {
    "domainStrategy": "AsIs",
    "rules": [
      // –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ IP-–∞–¥—Ä–µ—Å–∞
      {
        "type": "field",
        "ip": ["223.5.5.5"],
        "outboundTag": "direct-out"
      },
      // –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ IP-–∞–¥—Ä–µ—Å–∞
      {
        "type": "field",
        "ip": ["1.1.1.1"],
        "outboundTag": "proxy-out-vless"
      }
    ]
  }
}
```

### 5.4 –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–∏–ø—É –ø—Ä–æ—Ç–æ–∫–æ–ª–∞: `[protocol]`  –∏ —Ç. –¥.

1. –ß—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å **–ø—Ä–æ–±–ª–µ–º—É 9**, –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `"protocol": ["bittorrent"]`  –∏ —É–∫–∞–∑—ã–≤–∞–µ–º –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫ `[direct-out]`.

::: tip
–í–∞–º –Ω—É–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å `sniffing`  –≤–æ –≤—Ö–æ–¥—è—â–µ–º –ø—Ä–æ–∫—Å–∏, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è.
:::

```json
{
  "routing": {
    "domainStrategy": "AsIs",
    "rules": [
      // –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è —Ç–æ—Ä—Ä–µ–Ω—Ç-—Ç—Ä–∞—Ñ–∏–∫–∞
      {
        "type": "field",
        "protocol": ["bittorrent"],
        "outboundTag": "direct-out"
      }
    ]
  }
}
```

### 5.5 –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –¥—Ä—É–≥–∏–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º

–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ –ª–∏—à—å –º–∞–ª—É—é —á–∞—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ **—Ñ—É–Ω–∫—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏**! –û–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥—Ä—É–≥–∏—Ö –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è!  –Ø –ø–µ—Ä–µ—á–∏—Å–ª—é –∏—Ö –∑–¥–µ—Å—å:

–ö—Ä–∏—Ç–µ—Ä–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º—ã —É–∂–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏:

- `inboundTag`
- `domain`
- `ip`
- `protocol`

–ö—Ä–∏—Ç–µ—Ä–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –µ—â–µ –Ω–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏:

- `port`
- `sourcePort`
- `network`
- `source`
- `user`
- `attrs`

–û–¥–Ω–∞–∫–æ, —ç—Ç–æ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è —É—Ä–æ–≤–Ω—è 1, –ø–æ—ç—Ç–æ–º—É, –µ—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω—ã —ç—Ç–∏ —Å–ª–æ–∂–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –∏–∑—É—á–∏—Ç–µ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ –º–æ–¥—É–ª—é –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏](../../config/base/routing/) —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ!  –ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –≤–æ–ø—Ä–æ—Å—ã, –∑–∞–¥–∞–≤–∞–π—Ç–µ –∏—Ö –≤ Telegram-–≥—Ä—É–ø–ø–µ!

## 6. "–ù–∞—á–∞–ª–æ –Ω–æ–≤–æ–π —ç—Ä—ã": –æ–±–∑–æ—Ä –ø—Ä–∞–≤–∏–ª –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏

–ö –Ω–∞—Å—Ç–æ—è—â–µ–º—É –º–æ–º–µ–Ω—Ç—É —É –Ω–∞—Å –Ω–∞–∫–æ–ø–∏–ª—Å—è –≤–Ω—É—à–∏—Ç–µ–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –ø—Ä–∞–≤–∏–ª –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏. –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø—É—Ç–∞–Ω–∏—Ü—ã, –¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ–¥–µ–º –ø–æ–ª–Ω—ã–π –æ–±–∑–æ—Ä.

::: warning –í–Ω–∏–º–∞–Ω–∏–µ
–ü—Ä–∞–≤–∏–ª–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è **–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑**. –ü–æ—ç—Ç–æ–º—É —è —Ä–µ–∫–æ–º–µ–Ω–¥—É—é —Å–ª–µ–¥—É—é—â–∏–π –ø–æ—Ä—è–¥–æ–∫:

`[1-block] --> [2-direct] --> [3-proxy] --> [4-first-outbound]`
:::

```json
{
  "routing": {
    "domainStrategy": "AsIs",
    "rules": [
      // [1-block –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ–∫–ª–∞–º—ã]
      // 1.1 –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤
      {
        "type": "field",
        "domain": ["geosite:category-ads-all"],
        "outboundTag": "block"
      },
      // [2-direct –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º —Ä–µ—Å—É—Ä—Å–∞–º]
      // 2.1 –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –∫–∏—Ç–∞–π—Å–∫–∏—Ö –¥–æ–º–µ–Ω–æ–≤ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ø–æ–¥–¥–æ–º–µ–Ω–∞
      {
        "type": "field",
        "domain": ["geosite:cn", "full:direct.yourdomain.com"],
        "outboundTag": "direct-out"
      },
      // 2.2 –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö, –∫–∏—Ç–∞–π—Å–∫–∏—Ö –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö IP-–∞–¥—Ä–µ—Å–æ–≤
      {
        "type": "field",
        "ip": ["geoip:private", "geoip:cn", "223.5.5.5"],
        "outboundTag": "direct-out"
      },
      // 2.3 –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è —Ç–æ—Ä—Ä–µ–Ω—Ç-—Ç—Ä–∞—Ñ–∏–∫–∞
      {
        "type": "field",
        "protocol": ["bittorrent"],
        "outboundTag": "direct-out"
      },
      // [3-proxy –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤]
      // 3.1 –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ø–æ–¥–¥–æ–º–µ–Ω–∞ –∏ –≤—Å–µ—Ö –ø–æ–¥–¥–æ–º–µ–Ω–æ–≤
      {
        "type": "field",
        "domain": [
          "geosite:geolocation-!cn",
          "full:proxy.yourdomain.com",
          "yourdomain.com"
        ],
        "outboundTag": "proxy-out-vless"
      },
      // 3.2 –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ IP-–∞–¥—Ä–µ—Å–∞
      {
        "type": "field",
        "ip": ["1.1.1.1"],
        "outboundTag": "proxy-out-vless"
      }
      // [4-default-routing –ü–µ—Ä–≤—ã–π –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫]
      // –¢—Ä–∞—Ñ–∏–∫, –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –Ω–∏ –æ–¥–Ω–æ–º—É –ø—Ä–∞–≤–∏–ª—É, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º –∏—Å—Ö–æ–¥—è—â–∏–º —Ç—Ä–∞—Ñ–∏–∫–æ–º
    ]
  }
}
```

–¢–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –≤—ã–≥–ª—è–¥—è—Ç —Ç–∞–∫:

```mermaid
    graph LR;

    S(–î–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è) .-> I[–í—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫]

    subgraph Xray
    I --> R[–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è] -- "geosite:category-ads-all" --> O1[block]

    R[–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è] -- "geosite:cn" --> O2[direct]
    R[–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è] -- "direct.yourdomain.com" --> O2[direct]
    R[–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è] -- "geoip:private" --> O2[direct]
    R[–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è] -- "geoip:cn" --> O2[direct]
    R[–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è] -- "ip:223.5.5.5" --> O2[direct]
    R[–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è] -- "protocol:bittorrent" --> O2[direct]

    R[–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è] -- "geosite:geolocation-!cn" --> O3[proxy]
    R[–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è] -- "proxy.yourdomain.com" --> O3[proxy]
    R[–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è] -- "*.yourdomain.com" --> O3[proxy]
    R[–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è] -- "ip:1.1.1.1" --> O3[proxy]

    R[–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è] -. "–¢—Ä–∞—Ñ–∏–∫, –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –Ω–∏ –æ–¥–Ω–æ–º—É –ø—Ä–∞–≤–∏–ª—É" .-> O4[–ü–µ—Ä–≤—ã–π –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫]

    end

    O2 .-> D(–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–µ—Ä–≤–µ—Ä)
    O3 .-> V(VPS)

    O1:::redclass
    V:::greyclass
    S:::greyclass
    R:::routingclass
    classDef redclass fill:#FF0000
    classDef greyclass fill:#C0C0C0
    classDef routingclass fill:#FFFFDE,stroke:#000000

```

–ë—É–¥–µ—Ç –ª–∏ –ø–µ—Ä–≤—ã–º –∏—Å—Ö–æ–¥—è—â–∏–º —Ç—Ä–∞—Ñ–∏–∫–æ–º `[direct-out]` –∏–ª–∏ `[proxy-out-vless]`,  –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–∞—à–∏—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π.

## 7. –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –∫–∞–∂–¥–æ–µ –ø—Ä–∞–≤–∏–ª–æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–æ–µ —è –ø—Ä–∏–≤–µ–ª –≤—ã—à–µ, –∏–º–µ–µ—Ç **—Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∫—Ä–∏—Ç–µ—Ä–∏–π —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è**.  –≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–∞–≤–∏–ª–æ —Ä–∞–±–æ—Ç–∞–ª–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.  –ß–∞—Å—Ç–∞—è –æ—à–∏–±–∫–∞ –Ω–æ–≤–∏—á–∫–æ–≤ –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –æ–Ω–∏ **—É–∫–∞–∑—ã–≤—é—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º –ø—Ä–∞–≤–∏–ª–µ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º**.

–ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ:

1. –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞ `direct.yourdomain.com`.
2. –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è DNS-–∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º DNS-—Å–µ—Ä–≤–µ—Ä–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, `223.5.5.5`).

### 7.1 –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä

–ß—Ç–æ–±—ã –¥–æ—Å—Ç–∏—á—å —ç—Ç–æ–π —Ü–µ–ª–∏, –Ω–æ–≤–∏—á–æ–∫ –º–æ–∂–µ—Ç –Ω–∞–ø–∏—Å–∞—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ –ø—Ä–∞–≤–∏–ª–æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏:

```json
{
  "routing": {
    "domainStrategy": "AsIs",
    "rules": [
      {
        "type": "field",
        "ip": ["223.5.5.5"],
        "domain": ["full:direct.yourdomain.com"],
        "outboundTag": "direct-out"
      }
    ]
  }
}
```

–í–∏–¥–∏—Ç–µ –ª–∏ –≤—ã –∑–¥–µ—Å—å –æ—à–∏–±–∫—É? –ù–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥, –∫–∞–∂–µ—Ç—Å—è, –≤—Å–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ?

::: warning –í–Ω–∏–º–∞–Ω–∏–µ
**–í –æ–¥–Ω–æ–º –ø—Ä–∞–≤–∏–ª–µ –≤—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ**, —á—Ç–æ–±—ã –ø—Ä–∞–≤–∏–ª–æ —Å—Ä–∞–±–æ—Ç–∞–ª–æ. –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ ‚Äî "**–ò**", –∞ –Ω–µ "**–ò–õ–ò**".
:::

–î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, —ç—Ç–æ –ø—Ä–∞–≤–∏–ª–æ –æ–∑–Ω–∞—á–∞–µ—Ç: **`Xray`  –Ω–∞–ø—Ä–∞–≤–∏—Ç —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫ `[direct-out]`  —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ —Ü–µ–ª–µ–≤–æ–π –∞–¥—Ä–µ—Å —Ä–∞–≤–µ–Ω `direct.yourdomain.com`  **–∏**  `223.5.5.5`  –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ**.

–û—á–µ–≤–∏–¥–Ω–æ, —á—Ç–æ –æ–¥–∏–Ω –∞–¥—Ä–µ—Å –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–≤–µ–Ω –¥–≤—É–º —Ä–∞–∑–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –ø–æ—ç—Ç–æ–º—É —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ –Ω–µ–≤—ã–ø–æ–ª–Ω–∏–º–æ–µ –ø—Ä–∞–≤–∏–ª–æ, –Ω–æ –∏ –Ω–µ –∏–º–µ–µ—Ç –Ω–∏—á–µ–≥–æ –æ–±—â–µ–≥–æ —Å –Ω–∞—à–µ–π –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π —Ü–µ–ª—å—é.

### 7.2 –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä

–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî —Ä–∞–∑–¥–µ–ª–∏—Ç—å —Ä–∞–∑–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞:

```json
{
  "routing": {
    "domainStrategy": "AsIs",
    "rules": [
      {
        "type": "field",
        "ip": ["223.5.5.5"],
        "outboundTag": "direct-out"
      },
      {
        "type": "field",
        "domain": ["full:direct.yourdomain.com"],
        "outboundTag": "direct-out"
      }
    ]
  }
}
```

–ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ, –≤ –ø—É–Ω–∫—Ç–µ 6 —è —É–∂–µ –ø—Ä–∏–≤–µ–ª —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞, –ø—Ä–∏–Ω—Ü–∏–ø –∫–æ—Ç–æ—Ä—ã—Ö –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ **–æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –º–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å, –∞ —Ä–∞–∑–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω—ã**.

## 8. –°–∫—Ä—ã—Ç—ã–µ –ø—É—Ç–∏

> –°–µ–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–æ—Ö–æ–¥ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è `[domain]` –≤ `[ip]`: `domainStrategy`

–í –ø—É–Ω–∫—Ç–µ 5.4 –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ —Ä–∞–∑–ª–∏—á–Ω—ã–µ **–∫—Ä–∏—Ç–µ—Ä–∏–∏** –¥–ª—è —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞, —Å—Ä–µ–¥–∏ –∫–æ—Ç–æ—Ä—ã—Ö –±—ã–ª–∏ **–¥–æ–º–µ–Ω** `[domain]`  –∏ **IP-–∞–¥—Ä–µ—Å** `[IP]`.

–ï—Å–ª–∏ –≤—ã –∑–Ω–∞–∫–æ–º—ã —Å –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏ —Ä–∞–±–æ—Ç—ã DNS, —Ç–æ –∑–Ω–∞–µ—Ç–µ, —á—Ç–æ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –¥–æ–º–µ–Ω—É `[domain]`  —Å–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ DNS-—Å–µ—Ä–≤–µ—Ä, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å IP-–∞–¥—Ä–µ—Å `[IP]`,  —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –¥–æ–º–µ–Ω—É, –∞ –∑–∞—Ç–µ–º –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å –Ω–∞ —ç—Ç–æ—Ç IP-–∞–¥—Ä–µ—Å.

–ü–æ—ç—Ç–æ–º—É —É `Xray`  –µ—Å—Ç—å –¥–≤–∞ —à–∞–Ω—Å–∞ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø –≤—Ö–æ–¥—è—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∫ –¥–æ–º–µ–Ω—É.  –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∏ —ç—Ç–∏ –¥–≤–∞ —à–∞–Ω—Å–∞, —Ä–µ—à–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `domainStrategy`.  –û–Ω –∏–º–µ–µ—Ç —Ç—Ä–∏ –∑–Ω–∞—á–µ–Ω–∏—è:

- `AsIs`
- `IPIfNonMatch`
- `IPOnDemand`

–î–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∫–∞–∂–¥–æ–µ –∏–∑ –Ω–∏—Ö:

### 8.1 –°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–æ–º–µ–Ω–∞: `"AsIs"`

"As Domain Is" –æ–∑–Ω–∞—á–∞–µ—Ç **"–∫–∞–∫ –µ—Å—Ç—å, –±–µ–∑ –ª–∏—à–Ω–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π"**.

–ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è, **"—Å–æ–ø–æ—Å—Ç–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ –¥–æ–º–µ–Ω—É"**.

::: tip
`AsIs`  –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –æ–∑–Ω–∞—á–∞–µ—Ç **"–∫–∞–∫ –µ—Å—Ç—å, –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π"**. –û–ø–∏—Å–∞–Ω–∏–µ üçâ-sensei –Ω–µ —Å–æ–≤—Å–µ–º —Ç–æ—á–Ω–æ–µ.
:::

–í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ –≤—Å—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ `Xray`  –±–µ–∑ –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ —Å –≤–Ω–µ—à–Ω–∏–º –º–∏—Ä–æ–º, –ø–æ—ç—Ç–æ–º—É —Å–∫–æ—Ä–æ—Å—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞. –°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–µ—Å–æ–ø–æ—Å—Ç–∞–≤–∏–º—ã—Ö –¥–æ–º–µ–Ω–æ–≤ —Ç–∞–∫–∂–µ —è—Å–Ω–∞: –∫–∞–∫ —É–∂–µ –≥–æ–≤–æ—Ä–∏–ª–æ—Å—å —Ä–∞–Ω–µ–µ, –æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ –ø–µ—Ä–≤—ã–π –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫.  –ü–æ—ç—Ç–æ–º—É —ç—Ç–æ **–Ω–∞–∏–±–æ–ª–µ–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è** –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏.

### 8.2 –°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–æ–º–µ–Ω–∞: `"IPIfNonMatch"`

"lookup IP if (there's) no matching rule" –æ–∑–Ω–∞—á–∞–µ—Ç **"–∏—Å–∫–∞—Ç—å IP-–∞–¥—Ä–µ—Å, –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –ø–æ –¥—Ä—É–≥–∏–º –ø—Ä–∞–≤–∏–ª–∞–º"**.

–ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è, **"—Å–Ω–∞—á–∞–ª–∞ —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å —Ü–µ–ª–µ–≤–æ–π –∞–¥—Ä–µ—Å —Å–æ –≤—Å–µ–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏, –∞ –µ—Å–ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, —Ç–æ –ø–æ–ª—É—á–∏—Ç—å IP-–∞–¥—Ä–µ—Å —á–µ—Ä–µ–∑ DNS –∏ —Å–Ω–æ–≤–∞ —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å –µ–≥–æ —Å–æ –≤—Å–µ–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏"**.

–í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ –¥–æ–º–µ–Ω—ã, –Ω–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –Ω–∏ —Å –æ–¥–Ω–∏–º –ø—Ä–∞–≤–∏–ª–æ–º, –±—É–¥—É—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ DNS-–∑–∞–ø—Ä–æ—Å –∏ –≤—Ç–æ—Ä–æ–π —ç—Ç–∞–ø —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª, —á—Ç–æ –∑–∞–π–º–µ—Ç –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏, —á–µ–º –≤ —Ä–µ–∂–∏–º–µ `AsIs`.  –ü–æ—ç—Ç–æ–º—É —ç—Ç–æ **–Ω–µ —Å–∞–º–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è**.

### 8.3 –°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–æ–º–µ–Ω–∞: `"IPOnDemand"`

"Demand IP" –æ–∑–Ω–∞—á–∞–µ—Ç **"–∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å IP-–∞–¥—Ä–µ—Å"**.

–ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è, **"–µ—Å–ª–∏ –≤ –ø—Ä–∞–≤–∏–ª–∞—Ö –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –µ—Å—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ IP-–∞–¥—Ä–µ—Å–∞, —Ç–æ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–æ–º–µ–Ω–∞ `[domain]`  –±—É–¥—É—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω—ã –≤ IP-–∞–¥—Ä–µ—Å–∞ `[IP]`  –∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω—ã —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ IP-–∞–¥—Ä–µ—Å–∞"**.

–í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –¥–æ–º–µ–Ω–∞–º –±—É–¥—É—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ DNS-–∑–∞–ø—Ä–æ—Å, –ø–æ—ç—Ç–æ–º—É –ø–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –º–µ–¥–ª–µ–Ω–Ω—ã–º.  –•–æ—Ç—è –±–ª–∞–≥–æ–¥–∞—Ä—è –º–µ—Ö–∞–Ω–∏–∑–º—É –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è DNS –≤ `Xray`  –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∫ —Ç–æ–º—É –∂–µ –¥–æ–º–µ–Ω—É –±—É–¥—É—Ç –±—ã—Å—Ç—Ä—ã–º–∏, –≤ —Ü–µ–ª–æ–º —ç—Ç–æ **–Ω–µ —Å–∞–º–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è**.

::: warning 
`domainStrategy`  –¥–µ–π—Å—Ç–≤—É–µ—Ç **—Ç–æ–ª—å–∫–æ –¥–ª—è –¥–æ–º–µ–Ω–æ–≤**, –Ω–µ –ø—É—Ç–∞–π—Ç–µ!
:::

## 9. –ó–∞–¥–∞–Ω–∏–µ –¥–ª—è —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è

–î–æ —Å–∏—Ö –ø–æ—Ä –º—ã —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–ª–∏ –ª–æ–≥–∏–∫—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ **–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏** –Ω–∞ –æ—Å–Ω–æ–≤–µ **–æ–¥–Ω–æ–≥–æ –≤—Ö–æ–¥—è—â–µ–≥–æ** –∏ **–æ–¥–Ω–æ–≥–æ –∏—Å—Ö–æ–¥—è—â–µ–≥–æ** —Ç—Ä–∞—Ñ–∏–∫–∞.

–ù–æ, –∫–∞–∫ –≤—ã –∑–Ω–∞–µ—Ç–µ, `Xray`  –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ä—Ç–æ–≤ –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤.  –ß—Ç–æ, –µ—Å–ª–∏ —è —Å–ø—Ä–æ—à—É –≤–∞—Å:

1. –Ø —Ö–æ—á—É, —á—Ç–æ–±—ã –ø—Ä–æ—Ç–æ–∫–æ–ª `VLESS`  –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–ª –º–æ–π –æ–±—ã—á–Ω—ã–π –≤–µ–±-—Ç—Ä–∞—Ñ–∏–∫ –∏ —Ç—Ä–∞—Ñ–∏–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ –≤—ã—Å–æ–∫–æ—Å–∫–æ—Ä–æ—Å—Ç–Ω–æ–π —Å–µ—Ä–≤–µ—Ä –≤ –°–®–ê.
2. –Ø —Ö–æ—á—É, —á—Ç–æ–±—ã –ø—Ä–æ—Ç–æ–∫–æ–ª `trojan`  –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–ª –≤–µ—Å—å –º–æ–π —Ç—Ä–∞—Ñ–∏–∫ Netflix –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤ –Ø–ø–æ–Ω–∏–∏, —á—Ç–æ–±—ã —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∞–Ω–∏–º–µ.
3. –Ø —Ö–æ—á—É, —á—Ç–æ–±—ã –ø—Ä–æ—Ç–æ–∫–æ–ª `shadowsocks`  –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–ª –≤–µ—Å—å –º–æ–π –∏–≥—Ä–æ–≤–æ–π —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤ –ì–æ–Ω–∫–æ–Ω–≥–µ –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏.
4. –Ø —Ö–æ—á—É, —á—Ç–æ–±—ã –±—ã–ª –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ—Ä—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–ª –±—ã –≤–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫ `telegram`  –Ω–∞ VPS.
5. –Ø —Ö–æ—á—É, —á—Ç–æ–±—ã –±—ã–ª –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ—Ä—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–ª –±—ã –≤–µ—Å—å —Ç–æ—Ä—Ä–µ–Ω—Ç-—Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ –º–æ—â–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –≤ –ï–≤—Ä–æ–ø–µ.
6. –Ø —Ö–æ—á—É......

–ú–æ–∂–Ω–æ –ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç—Ç–∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Å –ø–æ–º–æ—â—å—é **—Ñ—É–Ω–∫—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏**?

–û—Ç–≤–µ—Ç, –∫–æ–Ω–µ—á–Ω–æ –∂–µ, **–¥–∞**!  –û–¥–Ω–∞–∫–æ, —ç—Ç–æ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ —Ä–∞–º–∫–∏ —É—Ä–æ–≤–Ω—è 1, –ø–æ—ç—Ç–æ–º—É —è –æ—Å—Ç–∞–≤–ª—é —ç—Ç–æ –≤–∞–º –¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è!

## 10. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ù–∞ —ç—Ç–æ–º –æ–±–∑–æ—Ä **—Ñ—É–Ω–∫—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏** –≤ `Xray`  –∑–∞–≤–µ—Ä—à–µ–Ω.  –ù–∞–¥–µ—é—Å—å, —ç—Ç–∞ —Å—Ç–∞—Ç—å—è –ø–æ–º–æ–≥–ª–∞ –≤–∞–º –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å –≥–∏–±–∫–æ—Å—Ç—å `Xray`.

## 11. –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ—á–∏—Ç–∞—Ç—å —Ä–∞–∑–¥–µ–ª [–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è](../../config/routing.md) –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —Å—Ç–∞–ª–æ –ª–∏ –≤–∞–º —á—Ç–æ-—Ç–æ –ø–æ–Ω—è—Ç–Ω–µ–µ.
- üçâüçâüçâüçâüçâ :D



