# Hysteria

Реализация низкоуровневого транспорта QUIC для Hysteria2 в Xray. Обычно используется в сочетании с [исходящим протоколом hysteria2](../outbounds/hysteria2.md).

## HysteriaObject

`HysteriaObject` соответствует пункту `hysteriaSettings` в конфигурации транспорта.

```json
{
  "version": 2,
  "auth": "password",
  "up": "0",
  "down": "0",
  "udphop": {
    "port": "1145-1919",
    "interval": "30s"
  },
  "initStreamReceiveWindow": 8388608,
  "maxStreamReceiveWindow": 8388608,
  "initConnectionReceiveWindow": 20971520,
  "maxConnectionReceiveWindow": 20971520,
  "maxIdleTimeout": 30,
  "keepAlivePeriod": 0,
  "disablePathMTUDiscovery": false
}
```

> `version`: number

Версия Hysteria, должна быть равна 2.

> `auth`: string

Пароль аутентификации Hysteria, должен совпадать на сервере и клиенте.

> `up`: string

> `down`: string

Ограничение скорости загрузки/скачивания (upload/download). Значение по умолчанию 0.

Формат удобен для пользователя, поддерживает различные распространенные записи бит в секунду, включая `1000000`, `100kb`, `20 mb`, `100 mbps`, `1g`, `1 tbps` и т.д. Регистр не важен, пробелы между единицами необязательны. Без единиц измерения по умолчанию используется bps (бит в секунду), значение не может быть ниже 65535 bps.

Поведение согласования соответствует оригинальной Hysteria:

Значение на сервере ограничивает максимальную скорость режима Brutal, которую может выбрать клиент; 0 означает отсутствие ограничений для клиента.

Если на клиенте 0, используется режим BBR; если не 0, используется режим Brutal, который будет ограничен сервером.

Обратите внимание на относительность: загрузка (upload) сервера — это скачивание (download) клиента, а скачивание (download) сервера — это загрузка (upload) клиента.

> `udphop`: {"port": string, "interval": string}

Конфигурация скачков портов UDP (UDP port hopping).

`port` — это диапазон портов для скачков. Может быть строкой с числом, например `"1234"`; или числовым диапазоном, например `"1145-1919"`, что означает 775 портов от 1145 до 1919. Можно использовать запятые для разделения, например `11,13,15-17` означает 5 портов: 11, 13, и с 15 по 17.

> `initStreamReceiveWindow`: number

> `maxStreamReceiveWindow`: number

> `initConnectionReceiveWindow`: number

> `maxConnectionReceiveWindow`: number

Эти четыре параметра являются конкретными параметрами окна QUIC. **Не рекомендуется изменять эти значения, если вы не понимаете полностью, что делаете**. Если вы все же меняете их, рекомендуется сохранять соотношение окна приема потока к окну приема соединения как 2:5.

> `maxIdleTimeout`: number

Максимальное время ожидания простоя (в секундах). Через какое время сервер закроет соединение, если не получит никаких данных от клиента. Диапазон 4~120 секунд, по умолчанию 30 секунд.

> `keepAlivePeriod`: number

Интервал QUIC KeepAlive (в секундах). Диапазон 2~60 секунд. По умолчанию отключено.

> `disablePathMTUDiscovery`: bool

Отключить ли обнаружение Path MTU Discovery.