# Конфигурационный файл

> **В этом разделе вы узнаете все детали настройки Xray. Овладев этими знаниями, вы сможете раскрыть весь потенциал Xray.**

## Обзор

Конфигурационный файл Xray имеет формат JSON. Формат конфигурации одинаков для клиента и сервера, но фактическое содержимое отличается.
Он выглядит следующим образом:

```json
{
  "version": {},
  "log": {},
  "api": {},
  "dns": {},
  "routing": {},
  "policy": {},
  "inbounds": [],
  "outbounds": [],
  "transport": {},
  "stats": {},
  "reverse": {},
  "fakedns": {},
  "metrics": {},
  "observatory": {},
  "burstObservatory": {}
}
```

::: warning
Если вы новичок в Xray, вы можете сначала прочитать раздел [Настройка и запуск в кратком руководстве](../document/install.md), чтобы узнать об основных способах настройки, а затем прочитать этот раздел, чтобы узнать обо всех способах настройки Xray.
:::

::: details Нажмите, чтобы развернуть: Как научить ИИ писать правильные конфигурации
Скопируйте следующий текст и отправьте его ИИ:

````text
[https://xtls.github.io/llms-full.txt](https://xtls.github.io/llms-full.txt) — это ссылка на официальную документацию Xray-core.

[Роль]
Вы эксперт по сетевым протоколам и настройке Xray-core.

[Инструкции]
1. База знаний: Просканируйте и полностью изучите содержание ссылки. Используйте её как ЕДИНСТВЕННЫЙ источник истины.
2. БЕЗ галлюцинаций: Категорически запрещено выдумывать параметры, которых нет в документации.
3. Формат: Хотя Xray поддерживает разные форматы, по умолчанию используйте стандартный JSON (если я не попрошу YAML или TOML) с комментариями.
4. Ошибка доступа: Если вы не можете открыть ссылку, сообщите мне об этом и попросите загрузить файл документации вручную.

Пожалуйста, отвечай на мои вопросы на русском языке.
:::




## Основные модули конфигурации

> `version`

Опционально, контролирует версию, на которой может работать данный `config`. При обмене `config`-файлами это предотвращает случайный запуск на нежелательных версиях клиента. Во время выполнения клиент будет проверять, соответствует ли его текущая версия данному требованию.

```json
"version": {
    "min": "25.8.3",
    "max": ""
}
````

Поля `min` и `max` являются опциональными. Если они не установлены или оставлены пустыми, это означает отсутствие ограничений. Указанные версии не обязательно должны реально существовать, достаточно, чтобы они соответствовали синтаксису номера версии `Xray` `x.y.z`.

`25.8.3` — это версия `Xray`, в которой была добавлена данная функция. Установка версии ниже этой не имеет смысла (старые версии не будут выполнять проверку).

> log: [LogObject](./log.md)

Настройка журнала, управляющая способом вывода журналов Xray.

> api: [ApiObject](./api.md)

Предоставляет API-интерфейсы для удаленного вызова.

> dns: [DnsObject](./dns.md)

Встроенный DNS-сервер. Если этот параметр не настроен, используются системные настройки DNS.

> routing: [RoutingObject](./routing.md)

Функция маршрутизации. Позволяет настроить правила для разделения трафика и отправки его через разные исходящие подключения.

> policy: [PolicyObject](./policy.md)

Локальная политика, позволяющая настроить разные уровни пользователей и соответствующие им политики.

> inbounds: \[ [InboundObject](./inbound.md) \]

Массив, каждый элемент которого представляет собой конфигурацию входящего подключения.

> outbounds: \[ [OutboundObject](./outbound.md) \]

Массив, каждый элемент которого представляет собой конфигурацию исходящего подключения.

> transport: [TransportObject](./transport.md)

Используется для настройки способа, которым Xray устанавливает и использует сетевые подключения к другим серверам.

> stats: [StatsObject](./stats.md)

Используется для настройки сбора статистики трафика.

> reverse: [ReverseObject](./reverse.md)

Обратный прокси. Позволяет перенаправлять трафик с сервера на клиент, т.е. перенаправлять трафик в обратном направлении.

> fakedns: [FakeDnsObject](./fakedns.md)

Настройка FakeDNS. Может использоваться совместно с прозрачным проксированием для получения фактических доменных имен.

> metrics: [metricsObject](./metrics.md)

Настройка метрик. Более прямой (и, надеемся, лучший) способ экспорта статистики.

> observatory: [ObservatoryObject](./observatory.md#observatoryobject)

Мониторинг фоновых подключений. Обнаружение состояния подключения исходящего прокси.

> burstObservatory: [BurstObservatoryObject](./observatory.md#burstobservatoryobject)

Мониторинг параллельных подключений. Обнаружение состояния подключения исходящего прокси.
